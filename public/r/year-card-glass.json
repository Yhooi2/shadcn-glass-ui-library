{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "year-card-glass",
  "type": "registry:block",
  "title": "Year Card Glass",
  "description": "Year Card Glass component with glass effects",
  "dependencies": ["lucide-react", "react"],
  "registryDependencies": ["cn", "variants"],
  "files": [
    {
      "path": "components/glass/composite/year-card-glass.tsx",
      "type": "registry:component",
      "content": "// ========================================\n// YEAR CARD GLASS COMPONENT\n// Year card for career timeline / analytics\n// Domain-specific composite component following shadcn/ui patterns\n// ========================================\n\nimport { forwardRef, type CSSProperties, type ReactNode } from 'react';\nimport { ChevronDown, ChevronUp } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { BadgeGlass } from '../ui/badge-glass';\nimport { ProgressGlass } from '../specialized/progress-glass';\nimport { SparklineGlass } from '../specialized/sparkline-glass';\nimport { ButtonGlass } from '../ui/button-glass';\nimport { InteractiveCard } from '../primitives';\nimport { InsightCardGlass } from '../atomic/insight-card-glass';\nimport type { ProgressGradient } from '@/lib/variants/progress-glass-variants';\nimport '@/glass-theme.css';\n\n// ========================================\n// TYPES\n// ========================================\n\nexport interface YearCardGlassInsight {\n  readonly variant?: 'default' | 'tip' | 'highlight' | 'warning' | 'stat' | 'growth' | 'decline';\n  readonly emoji?: string;\n  readonly text: string;\n  readonly detail?: string;\n}\n\nexport interface YearCardGlassStat {\n  readonly label: string;\n  readonly value: string | number;\n  readonly icon?: ReactNode;\n}\n\nexport interface YearCardGlassProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Year to display (string or number) */\n  readonly year: string | number;\n  /** Emoji for the badge */\n  readonly emoji: string;\n  /** Label for the badge (e.g., \"Peak Year\") */\n  readonly label: string;\n  /** Primary metric value (e.g., \"629 commits\") */\n  readonly commits: string;\n  /** Progress percentage (0-100) */\n  readonly progress: number;\n  /** Whether the card is expanded to show details */\n  readonly isExpanded?: boolean;\n  /** Progress bar gradient color */\n  readonly gradient?: ProgressGradient;\n  /** Number of PRs (shown in expanded view) */\n  readonly prs?: number;\n  /** Number of repos (shown in expanded view) */\n  readonly repos?: number;\n  /** Callback when \"Show repos\" button is clicked */\n  readonly onShowYear?: () => void;\n  /** Monthly activity data for sparkline */\n  readonly sparklineData?: readonly number[];\n  /** Labels for sparkline (e.g., month names) */\n  readonly sparklineLabels?: readonly string[];\n  /** Insights to display in expanded view */\n  readonly insights?: readonly YearCardGlassInsight[];\n  /** Custom stats for expanded view (replaces default commits/prs/repos grid) */\n  readonly stats?: readonly YearCardGlassStat[];\n  /** Custom action button text */\n  readonly actionLabel?: string;\n  /** Show sparkline in collapsed view */\n  readonly showSparklineCollapsed?: boolean;\n  /** Custom value formatter for commits display */\n  readonly valueFormatter?: (commits: string) => string;\n  /** Additional content for expanded section */\n  readonly children?: ReactNode;\n}\n\n// ========================================\n// COMPONENT\n// ========================================\n\nexport const YearCardGlass = forwardRef<HTMLDivElement, YearCardGlassProps>(\n  (\n    {\n      year,\n      emoji,\n      label,\n      commits,\n      progress,\n      isExpanded = false,\n      gradient = 'blue',\n      prs = 0,\n      repos = 0,\n      onShowYear,\n      sparklineData,\n      sparklineLabels,\n      insights,\n      stats,\n      actionLabel,\n      showSparklineCollapsed = true,\n      valueFormatter,\n      children,\n      className,\n      onClick,\n      ...props\n    },\n    ref\n  ) => {\n    const expandedStyles: CSSProperties = {\n      background: 'var(--expanded-bg)',\n      borderColor: 'var(--expanded-border)',\n    };\n\n    const metricCardStyles: CSSProperties = {\n      background: 'var(--card-bg)',\n      borderColor: 'var(--card-border)',\n    };\n\n    // Format commits display\n    const displayCommits = valueFormatter ? valueFormatter(commits) : commits;\n\n    // Default stats if none provided\n    const displayStats = stats || [\n      { label: 'Commits', value: commits },\n      { label: 'PRs', value: prs },\n      { label: 'Repos', value: repos },\n    ];\n\n    // Default action label\n    const buttonLabel = actionLabel || `Show repos from ${year}`;\n\n    return (\n      <InteractiveCard\n        ref={ref}\n        baseBg=\"var(--year-card-bg)\"\n        hoverBg=\"var(--card-hover-bg)\"\n        borderColor=\"var(--year-card-border)\"\n        hoverGlow=\"var(--year-card-hover-glow)\"\n        hoverLift\n        rounded=\"rounded-xl\"\n        className={cn('w-full max-w-2xl p-2.5 md:p-3 cursor-pointer', className)}\n        onClick={onClick}\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            onClick?.(e as unknown as React.MouseEvent<HTMLDivElement>);\n          }\n        }}\n        aria-expanded={isExpanded}\n        aria-label={`${year} year: ${label}, ${commits} commits. ${isExpanded ? 'Collapse' : 'Expand'} details`}\n        {...props}\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-1.5 md:mb-2\">\n          <div className=\"flex items-center gap-1.5 md:gap-2\">\n            <span\n              className=\"font-semibold text-sm md:text-base\"\n              style={{ color: 'var(--text-primary)' }}\n            >\n              {year}\n            </span>\n            <BadgeGlass>\n              {emoji} {label}\n            </BadgeGlass>\n          </div>\n          <span\n            className=\"text-xs md:text-sm flex items-center gap-0.5 md:gap-1\"\n            style={{ color: 'var(--text-secondary)' }}\n          >\n            {displayCommits}\n            {isExpanded ? (\n              <ChevronUp className=\"w-3.5 h-3.5 md:w-4 md:h-4\" aria-hidden=\"true\" />\n            ) : (\n              <ChevronDown className=\"w-3.5 h-3.5 md:w-4 md:h-4\" aria-hidden=\"true\" />\n            )}\n          </span>\n        </div>\n\n        {/* Progress + Sparkline (collapsed view) */}\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex-1\">\n            <ProgressGlass value={progress} gradient={gradient} size=\"sm\" />\n          </div>\n          {showSparklineCollapsed && sparklineData && sparklineData.length > 0 && (\n            <SparklineGlass\n              data={sparklineData}\n              labels={sparklineLabels}\n              height=\"sm\"\n              gap=\"sm\"\n              className=\"w-16 md:w-20\"\n              aria-label={`Activity trend for ${year}`}\n            />\n          )}\n        </div>\n\n        {/* Expanded Section */}\n        {isExpanded && (\n          <div className=\"mt-3 pt-3 border-t space-y-3\" style={expandedStyles}>\n            {/* Stats Grid */}\n            <div\n              className=\"grid gap-2 md:gap-3\"\n              style={{ gridTemplateColumns: `repeat(${Math.min(displayStats.length, 4)}, 1fr)` }}\n            >\n              {displayStats.map((stat, index) => (\n                <div\n                  key={index}\n                  className=\"p-2 md:p-2.5 rounded-lg border text-center\"\n                  style={metricCardStyles}\n                >\n                  {stat.icon && (\n                    <div className=\"mb-1 flex justify-center text-[var(--text-muted)]\">\n                      {stat.icon}\n                    </div>\n                  )}\n                  <div\n                    className=\"text-base md:text-xl font-bold\"\n                    style={{ color: 'var(--text-primary)' }}\n                  >\n                    {stat.value}\n                  </div>\n                  <div className=\"text-(length:--font-size-2xs) md:text-xs text-(--text-muted)\">\n                    {stat.label}\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Expanded Sparkline with labels (if not shown in collapsed) */}\n            {!showSparklineCollapsed && sparklineData && sparklineData.length > 0 && (\n              <SparklineGlass\n                data={sparklineData}\n                labels={sparklineLabels}\n                showLabels={!!sparklineLabels}\n                height=\"md\"\n                gap=\"sm\"\n                highlightMax\n                className=\"w-full\"\n                aria-label={`Monthly activity for ${year}`}\n              />\n            )}\n\n            {/* Insights */}\n            {insights && insights.length > 0 && (\n              <div className=\"space-y-2\">\n                {insights.map((insight, index) => (\n                  <InsightCardGlass\n                    key={index}\n                    variant={insight.variant}\n                    emoji={insight.emoji}\n                    text={insight.text}\n                    detail={insight.detail}\n                    inline={false}\n                  />\n                ))}\n              </div>\n            )}\n\n            {/* Custom children content */}\n            {children}\n\n            {/* Show Year Button */}\n            {onShowYear && (\n              <ButtonGlass\n                variant=\"default\"\n                size=\"sm\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onShowYear();\n                }}\n                className=\"w-full\"\n              >\n                {buttonLabel}\n              </ButtonGlass>\n            )}\n          </div>\n        )}\n      </InteractiveCard>\n    );\n  }\n);\n\nYearCardGlass.displayName = 'YearCardGlass';\n"
    }
  ],
  "categories": ["composite"]
}
