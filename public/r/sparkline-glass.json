{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sparkline-glass",
  "type": "registry:component",
  "title": "Sparkline Glass",
  "description": "Sparkline Glass component with glass effects",
  "dependencies": ["class-variance-authority", "react"],
  "registryDependencies": ["cn", "variants"],
  "files": [
    {
      "path": "components/glass/specialized/sparkline-glass.tsx",
      "type": "registry:component",
      "content": "import { forwardRef, useMemo, type CSSProperties } from 'react';\nimport { type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/lib/utils';\nimport {\n  sparklineContainerVariants,\n  sparklineBarVariants,\n} from '@/lib/variants/sparkline-glass-variants';\nimport '@/glass-theme.css';\n\nexport interface SparklineGlassProps\n  extends\n    Omit<React.HTMLAttributes<HTMLDivElement>, 'style'>,\n    VariantProps<typeof sparklineContainerVariants> {\n  /** Массив числовых значений для отображения */\n  readonly data: readonly number[];\n  /** Подписи для каждого бара */\n  readonly labels?: readonly string[];\n  /** Показывать подписи под барами */\n  readonly showLabels?: boolean;\n  /** Подсветить максимальное значение другим цветом */\n  readonly highlightMax?: boolean;\n  /** Цвет обычных баров */\n  readonly barColor?: string;\n  /** Цвет максимального бара */\n  readonly maxBarColor?: string;\n  /** Tooltips для каждого бара */\n  readonly tooltips?: readonly string[];\n  /** Анимация появления */\n  readonly animated?: boolean;\n  /** Минимальная высота бара в % */\n  readonly minBarHeightPercent?: number;\n}\n\nexport const SparklineGlass = forwardRef<HTMLDivElement, SparklineGlassProps>(\n  (\n    {\n      data,\n      labels,\n      showLabels = false,\n      highlightMax = false,\n      barColor,\n      maxBarColor,\n      tooltips,\n      height = 'md',\n      gap = 'sm',\n      animated = false,\n      minBarHeightPercent = 4,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const { maxValue, maxIndex } = useMemo(() => {\n      const max = Math.max(...data, 0);\n      return { maxValue: max, maxIndex: data.indexOf(max) };\n    }, [data]);\n\n    const ariaLabel = useMemo(() => {\n      if (data.length === 0) return 'Empty sparkline chart';\n      return `Sparkline chart with ${data.length} data points, maximum value ${maxValue}${\n        labels ? ` at ${labels[maxIndex] || `position ${maxIndex + 1}`}` : ''\n      }`;\n    }, [data, maxValue, maxIndex, labels]);\n\n    return (\n      <div\n        ref={ref}\n        role=\"img\"\n        aria-label={ariaLabel}\n        className={cn('flex flex-col', className)}\n        {...props}\n      >\n        <div className={cn(sparklineContainerVariants({ height, gap }))}>\n          {data.map((value, index) => {\n            const heightPercent =\n              maxValue > 0\n                ? Math.max((value / maxValue) * 100, minBarHeightPercent)\n                : minBarHeightPercent;\n            const isMax = highlightMax && index === maxIndex && value > 0;\n\n            const barStyle: CSSProperties = {\n              height: `${heightPercent}%`,\n              backgroundColor: isMax\n                ? (maxBarColor ?? 'var(--sparkline-bar-max)')\n                : (barColor ?? 'var(--sparkline-bar-fill)'),\n              animationDelay: animated ? `${index * 50}ms` : undefined,\n            };\n\n            return (\n              <div\n                key={index}\n                className={cn(sparklineBarVariants({ animated }))}\n                style={barStyle}\n                aria-hidden=\"true\"\n                title={tooltips?.[index]}\n              />\n            );\n          })}\n        </div>\n\n        {showLabels && labels && labels.length > 0 && (\n          <div className=\"flex mt-1\" aria-hidden=\"true\">\n            {labels.map((label, index) => (\n              <span\n                key={index}\n                className={cn(\n                  'flex-1 text-center leading-none truncate',\n                  'text-[length:var(--sparkline-label-size)]',\n                  'text-[color:var(--sparkline-label-color)]'\n                )}\n              >\n                {label}\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nSparklineGlass.displayName = 'SparklineGlass';\n"
    }
  ],
  "categories": ["specialized"]
}
