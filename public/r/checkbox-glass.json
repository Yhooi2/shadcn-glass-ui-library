{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "checkbox-glass",
  "type": "registry:ui",
  "title": "Checkbox Glass",
  "description": "Glass-themed checkbox with:",
  "dependencies": [
    "lucide-react",
    "react",
    "shadcn-glass-ui"
  ],
  "registryDependencies": [
    "cn",
    "use-focus",
    "use-hover"
  ],
  "files": [
    {
      "path": "components/glass/ui/checkbox-glass.tsx",
      "type": "registry:component",
      "content": "/**\n * CheckboxGlass Component\n *\n * Glass-themed checkbox with:\n * - Theme-aware styling (glass/light/aurora)\n * - Glow effect on hover\n * - Optional label\n */\n\nimport * as React from 'react';\nimport { forwardRef, type CSSProperties } from 'react';\nimport { Check, Minus } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { useHover } from '@/lib/hooks/use-hover';\nimport { useFocus } from '@/lib/hooks/use-focus';\nimport '@/glass-theme.css';\n\n// ========================================\n// PROPS INTERFACE\n// ========================================\n\n/**\n * Checked state type compatible with shadcn/ui (Radix UI)\n */\nexport type CheckedState = boolean | 'indeterminate';\n\n/**\n * Props for the CheckboxGlass component\n *\n * A glass-themed checkbox with accessible keyboard navigation, focus management,\n * and touch-friendly targets. Features glow effects and theme-aware styling.\n *\n * **shadcn/ui Compatibility (v2.3.0+):**\n * - Supports `onCheckedChange` callback (shadcn/ui pattern)\n * - Supports `'indeterminate'` state for tri-state checkboxes\n * - Backwards compatible with `onChange` prop\n *\n * @accessibility\n * - **Keyboard Navigation:** Full keyboard support with Enter/Space to toggle, Tab to focus (WCAG 2.1.1)\n * - **Focus Management:** Visible focus ring using `--focus-glow` CSS variable (WCAG 2.4.7)\n * - **Screen Readers:** Dual implementation with native `<input type=\"checkbox\">` (hidden) + visual `<div role=\"checkbox\">`\n * - **ARIA Attributes:** Uses `role=\"checkbox\"` and `aria-checked` for proper state announcement (including 'mixed' for indeterminate)\n * - **Label Association:** Visual label automatically associated with checkbox via `<label>` wrapper\n * - **Touch Targets:** 44x44px minimum touch area per Apple HIG (WCAG 2.5.5 compliance)\n * - **Color Contrast:** Check mark and backgrounds meet WCAG AA contrast ratio 4.5:1\n * - **Motion:** Transitions respect `prefers-reduced-motion` settings\n *\n * @example\n * ```tsx\n * // shadcn/ui compatible API\n * <CheckboxGlass\n *   checked={isChecked}\n *   onCheckedChange={(checked) => setIsChecked(checked === true)}\n * />\n *\n * // Indeterminate state (tri-state checkbox)\n * <CheckboxGlass\n *   checked={allSelected ? true : someSelected ? 'indeterminate' : false}\n *   onCheckedChange={(checked) => {\n *     if (checked === true) selectAll();\n *     else deselectAll();\n *   }}\n *   label=\"Select all\"\n * />\n *\n * // Legacy API (still supported)\n * <CheckboxGlass checked={agreed} onChange={setAgreed} label=\"I agree to terms\" />\n *\n * // Form integration with validation\n * <form onSubmit={handleSubmit}>\n *   <CheckboxGlass\n *     checked={newsletter}\n *     onCheckedChange={setNewsletter}\n *     label=\"Subscribe to newsletter\"\n *     aria-describedby=\"newsletter-help\"\n *   />\n *   <p id=\"newsletter-help\">Receive weekly updates</p>\n * </form>\n *\n * // Disabled checkbox\n * <CheckboxGlass\n *   checked={true}\n *   onCheckedChange={() => {}}\n *   label=\"This option is locked\"\n *   disabled\n * />\n * ```\n *\n * @since v2.3.0 - Added shadcn/ui compatible `onCheckedChange` and `indeterminate` support\n */\nexport interface CheckboxGlassProps extends Omit<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  'onChange' | 'checked' | 'defaultChecked'\n> {\n  /** Checked state: true, false, or 'indeterminate' (shadcn/ui compatible) */\n  readonly checked?: CheckedState;\n  /** Default checked state for uncontrolled usage */\n  readonly defaultChecked?: CheckedState;\n  /**\n   * Callback when checked state changes (shadcn/ui compatible)\n   * @param checked - New checked state\n   */\n  readonly onCheckedChange?: (checked: CheckedState) => void;\n  /**\n   * @deprecated Use `onCheckedChange` instead. Will be removed in v4.0.\n   * Legacy callback for backwards compatibility.\n   */\n  readonly onChange?: (checked: boolean) => void;\n  /** Optional label text */\n  readonly label?: string;\n}\n\n// ========================================\n// COMPONENT\n// ========================================\n\nexport const CheckboxGlass = forwardRef<HTMLInputElement, CheckboxGlassProps>(\n  (\n    {\n      className,\n      checked: controlledChecked,\n      defaultChecked,\n      onCheckedChange,\n      onChange,\n      label,\n      disabled,\n      ...props\n    },\n    ref\n  ) => {\n    const { isHovered, hoverProps } = useHover();\n    const { isFocusVisible, focusProps } = useFocus({ focusVisible: true });\n\n    // Support both controlled and uncontrolled modes\n    const [uncontrolledChecked, setUncontrolledChecked] = React.useState<CheckedState>(\n      defaultChecked ?? false\n    );\n    const isControlled = controlledChecked !== undefined;\n    const checked = isControlled ? controlledChecked : uncontrolledChecked;\n\n    // Determine visual states\n    const isChecked = checked === true;\n    const isIndeterminate = checked === 'indeterminate';\n    const showIndicator = isChecked || isIndeterminate;\n\n    // Handle state change\n    const handleChange = (newChecked: CheckedState) => {\n      if (disabled) return;\n\n      if (!isControlled) {\n        setUncontrolledChecked(newChecked);\n      }\n\n      // Call shadcn/ui compatible callback\n      onCheckedChange?.(newChecked);\n\n      // Call legacy callback (deprecated)\n      if (onChange && typeof newChecked === 'boolean') {\n        onChange(newChecked);\n      }\n    };\n\n    // Toggle to next state (indeterminate -> true, true -> false, false -> true)\n    const toggleChecked = () => {\n      if (isIndeterminate) {\n        handleChange(true);\n      } else {\n        handleChange(!isChecked);\n      }\n    };\n\n    const checkboxStyles: CSSProperties = {\n      background: showIndicator ? 'var(--checkbox-checked-bg)' : 'var(--checkbox-bg)',\n      border: `2px solid ${showIndicator ? 'var(--checkbox-checked-bg)' : 'var(--checkbox-border)'}`,\n      boxShadow:\n        isFocusVisible && !disabled\n          ? 'var(--focus-glow)'\n          : isHovered && !disabled\n            ? 'var(--checkbox-glow)'\n            : 'none',\n    };\n\n    // ARIA checked value for screen readers\n    const ariaChecked = isIndeterminate ? 'mixed' : isChecked;\n\n    return (\n      <label\n        className={cn(\n          'inline-flex items-center gap-2 md:gap-2.5',\n          disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer',\n          className\n        )}\n        onMouseEnter={hoverProps.onMouseEnter}\n        onMouseLeave={hoverProps.onMouseLeave}\n      >\n        <input\n          ref={ref}\n          type=\"checkbox\"\n          checked={isChecked}\n          onChange={(e) => handleChange(e.target.checked)}\n          disabled={disabled}\n          className=\"sr-only\"\n          {...props}\n        />\n        {/* Touch area wrapper - 44px minimum for Apple HIG compliance */}\n        <span className=\"inline-flex items-center justify-center min-w-11 min-h-11\">\n          {/* Visual checkbox - smaller but within 44px touch area */}\n          <div\n            onClick={toggleChecked}\n            onFocus={focusProps.onFocus}\n            onBlur={focusProps.onBlur}\n            className=\"relative w-6 h-6 md:w-5 md:h-5 rounded-md flex items-center justify-center transition-all duration-300\"\n            style={checkboxStyles}\n            role=\"checkbox\"\n            aria-checked={ariaChecked}\n            aria-label={label || 'Checkbox'}\n            tabIndex={disabled ? -1 : 0}\n            onKeyDown={(e) => {\n              if (!disabled && (e.key === 'Enter' || e.key === ' ')) {\n                e.preventDefault();\n                toggleChecked();\n              }\n            }}\n          >\n            {isChecked && (\n              <Check\n                className=\"w-3.5 h-3.5 md:w-3 md:h-3\"\n                style={{ color: 'var(--text-inverse)' }}\n              />\n            )}\n            {isIndeterminate && (\n              <Minus\n                className=\"w-3.5 h-3.5 md:w-3 md:h-3\"\n                style={{ color: 'var(--text-inverse)' }}\n              />\n            )}\n          </div>\n        </span>\n        {label && (\n          <span className=\"text-xs md:text-sm\" style={{ color: 'var(--text-secondary)' }}>\n            {label}\n          </span>\n        )}\n      </label>\n    );\n  }\n);\n\nCheckboxGlass.displayName = 'CheckboxGlass';\n\n/**\n * Checkbox - shadcn/ui compatible alias for CheckboxGlass\n *\n * @example\n * ```tsx\n * import { Checkbox } from 'shadcn-glass-ui'\n *\n * <Checkbox\n *   checked={isChecked}\n *   onCheckedChange={(checked) => setIsChecked(checked === true)}\n * />\n * ```\n *\n * @since v2.3.0\n */\nexport const Checkbox = CheckboxGlass;\n"
    }
  ],
  "categories": [
    "ui"
  ],
  "cssVars": {
    "light": {
      "--glass-bg": "rgba(255, 255, 255, 0.1)",
      "--glass-border": "rgba(255, 255, 255, 0.2)",
      "--blur-sm": "8px",
      "--blur-md": "16px",
      "--blur-lg": "24px"
    },
    "dark": {
      "--glass-bg": "rgba(255, 255, 255, 0.05)",
      "--glass-border": "rgba(255, 255, 255, 0.1)",
      "--blur-sm": "8px",
      "--blur-md": "16px",
      "--blur-lg": "24px"
    }
  }
}