{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "metric-card-glass",
  "type": "registry:block",
  "title": "Metric Card Glass",
  "description": "Metric Card Glass component with glass effects",
  "dependencies": ["lucide-react", "react"],
  "registryDependencies": ["cn", "variants"],
  "files": [
    {
      "path": "components/glass/composite/metric-card-glass.tsx",
      "type": "registry:component",
      "content": "// ========================================\n// METRIC CARD GLASS COMPONENT\n// Metric display card with progress, sparkline, and trend\n// Domain-specific composite component following shadcn/ui patterns\n// ========================================\n\nimport { forwardRef, type CSSProperties, type ReactNode } from 'react';\nimport { TrendingUp, TrendingDown, Minus } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { ProgressGlass } from '../specialized/progress-glass';\nimport { SparklineGlass } from '../specialized/sparkline-glass';\nimport { InteractiveCard } from '../primitives';\nimport '@/glass-theme.css';\n\nimport type { ProgressGradient } from '@/lib/variants/progress-glass-variants';\n\n// ========================================\n// TYPES\n// ========================================\n\nexport type MetricColor = 'emerald' | 'amber' | 'blue' | 'red';\n\nexport type TrendDirection = 'up' | 'down' | 'neutral';\n\nexport interface MetricTrend {\n  /** Percentage change value */\n  readonly value: number;\n  /** Direction of the trend */\n  readonly direction: TrendDirection;\n  /** Optional label (e.g., \"vs last month\") */\n  readonly label?: string;\n}\n\nexport interface MetricCardGlassProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Metric label/title */\n  readonly label: string;\n  /** Numeric value (typically 0-100 for percentage) */\n  readonly value: number;\n  /** Semantic color for the metric */\n  readonly color?: MetricColor;\n  /** Data for sparkline visualization */\n  readonly sparklineData?: readonly number[];\n  /** Show sparkline chart */\n  readonly showSparkline?: boolean;\n  /** Icon to display (React node or Lucide icon) */\n  readonly icon?: ReactNode;\n  /** Trend indicator with direction and value */\n  readonly trend?: MetricTrend;\n  /** Custom value formatter (e.g., (v) => `${v}%`) */\n  readonly valueFormatter?: (value: number) => string;\n  /** Optional suffix for the value (e.g., \"of 100\") */\n  readonly valueSuffix?: string;\n  /** Show progress bar */\n  readonly showProgress?: boolean;\n}\n\n// ========================================\n// COLOR MAPPINGS\n// ========================================\n\n// Map MetricColor to ProgressGradient\nconst colorToGradient: Record<MetricColor, ProgressGradient> = {\n  emerald: 'emerald',\n  amber: 'amber',\n  blue: 'blue',\n  red: 'rose',\n};\n\n// CSS variable maps for metric colors\nconst metricVarMap: Record<\n  MetricColor,\n  { bg: string; text: string; border: string; glow: string }\n> = {\n  emerald: {\n    bg: 'var(--metric-emerald-bg)',\n    text: 'var(--metric-emerald-text)',\n    border: 'var(--metric-emerald-border)',\n    glow: 'var(--metric-emerald-glow)',\n  },\n  amber: {\n    bg: 'var(--metric-amber-bg)',\n    text: 'var(--metric-amber-text)',\n    border: 'var(--metric-amber-border)',\n    glow: 'var(--metric-amber-glow)',\n  },\n  blue: {\n    bg: 'var(--metric-blue-bg)',\n    text: 'var(--metric-blue-text)',\n    border: 'var(--metric-blue-border)',\n    glow: 'var(--metric-blue-glow)',\n  },\n  red: {\n    bg: 'var(--metric-red-bg)',\n    text: 'var(--metric-red-text)',\n    border: 'var(--metric-red-border)',\n    glow: 'var(--metric-red-glow)',\n  },\n};\n\n// Trend direction colors - using existing alert CSS variables\nconst trendColors: Record<TrendDirection, string> = {\n  up: 'text-[var(--alert-success-text)]',\n  down: 'text-[var(--alert-destructive-text)]',\n  neutral: 'text-[var(--text-muted)]',\n};\n\n// Trend icons\nconst TrendIcons: Record<TrendDirection, typeof TrendingUp> = {\n  up: TrendingUp,\n  down: TrendingDown,\n  neutral: Minus,\n};\n\n// ========================================\n// COMPONENT\n// ========================================\n\nexport const MetricCardGlass = forwardRef<HTMLDivElement, MetricCardGlassProps>(\n  (\n    {\n      label,\n      value,\n      color = 'blue',\n      sparklineData,\n      showSparkline = true,\n      icon,\n      trend,\n      valueFormatter,\n      valueSuffix,\n      showProgress = true,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const colorVars = metricVarMap[color];\n    const hasSparkline = showSparkline && sparklineData && sparklineData.length > 0;\n\n    const valueStyles: CSSProperties = {\n      color: colorVars.text,\n      textShadow: colorVars.glow,\n    };\n\n    // Format the display value\n    const displayValue = valueFormatter ? valueFormatter(value) : `${value}%`;\n\n    // Render trend indicator\n    const renderTrend = () => {\n      if (!trend) return null;\n\n      const TrendIcon = TrendIcons[trend.direction];\n      const trendValue =\n        trend.direction === 'down' ? `-${Math.abs(trend.value)}` : `+${trend.value}`;\n\n      return (\n        <div className={cn('flex items-center gap-1 text-xs', trendColors[trend.direction])}>\n          <TrendIcon className=\"w-3 h-3\" aria-hidden=\"true\" />\n          <span className=\"font-medium\">{trendValue}%</span>\n          {trend.label && <span className=\"text-[var(--text-muted)] ml-0.5\">{trend.label}</span>}\n        </div>\n      );\n    };\n\n    return (\n      <InteractiveCard\n        ref={ref}\n        baseBg={colorVars.bg}\n        borderColor={colorVars.border}\n        hoverGlow={colorVars.glow}\n        hoverLift\n        blur=\"sm\"\n        rounded=\"rounded-xl\"\n        className={cn('p-3 md:p-4', className)}\n        {...props}\n      >\n        {/* Header with icon and trend */}\n        <div className=\"flex items-start justify-between mb-2\">\n          <div className=\"flex items-center gap-2\">\n            {icon && (\n              <div className=\"text-[var(--text-muted)]\" aria-hidden=\"true\">\n                {icon}\n              </div>\n            )}\n            <span className=\"text-(length:--font-size-2xs) sm:text-xs md:text-sm font-medium truncate text-(--text-secondary)\">\n              {label}\n            </span>\n          </div>\n          {renderTrend()}\n        </div>\n\n        {/* Value display */}\n        <div className=\"flex flex-col items-center mb-2 md:mb-3 gap-1\">\n          <span\n            className=\"font-bold text-lg sm:text-xl md:text-2xl whitespace-nowrap\"\n            style={valueStyles}\n          >\n            {displayValue}\n          </span>\n          {valueSuffix && (\n            <span className=\"text-(length:--font-size-2xs) text-(--text-muted)\">{valueSuffix}</span>\n          )}\n        </div>\n\n        {/* Progress and Sparkline */}\n        {hasSparkline ? (\n          <div className=\"space-y-2\">\n            {showProgress && (\n              <ProgressGlass value={value} gradient={colorToGradient[color]} size=\"sm\" />\n            )}\n            <SparklineGlass\n              data={sparklineData}\n              height=\"sm\"\n              gap=\"sm\"\n              className=\"w-full\"\n              barColor={colorVars.text}\n              highlightMax\n              aria-label={`${label} trend`}\n            />\n          </div>\n        ) : showProgress ? (\n          <ProgressGlass value={value} gradient={colorToGradient[color]} size=\"sm\" />\n        ) : null}\n      </InteractiveCard>\n    );\n  }\n);\n\nMetricCardGlass.displayName = 'MetricCardGlass';\n"
    }
  ],
  "categories": ["composite"]
}
