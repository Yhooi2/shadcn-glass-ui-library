{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "repository-card-glass",
  "type": "registry:block",
  "title": "Repository Card Glass",
  "description": "RepositoryCardGlass - Expandable repository card with compound API",
  "dependencies": [
    "lucide-react",
    "react"
  ],
  "registryDependencies": [
    "cn"
  ],
  "files": [
    {
      "path": "components/glass/composite/repository-card-glass.tsx",
      "type": "registry:component",
      "content": "/* eslint-disable react-refresh/only-export-components */\n// ========================================\n// REPOSITORY CARD GLASS COMPONENT\n// Expandable repository card with compound API\n// Issue #15: shadcn/ui compatible compound component\n// ========================================\n\nimport { forwardRef, type CSSProperties, type ReactNode, useMemo } from 'react';\nimport { ChevronDown, ChevronUp, Star, ExternalLink, Sparkles, AlertTriangle } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { StatusIndicatorGlass } from '../../specialized/status-indicator-glass';\nimport { ButtonGlass } from '../../ui/button-glass';\nimport { InteractiveCard } from '../../primitives';\nimport {\n  RepositoryCardContext,\n  useRepositoryCard,\n  type RepositoryCardContextValue,\n} from './repository-card-context';\nimport '@/glass-theme.css';\n\n// ========================================\n// TYPES\n// ========================================\n\nexport type RepositoryFlagType = 'green' | 'yellow' | 'red';\n\n/** Props for RepositoryCardGlass.Root */\nexport interface RepositoryCardRootProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Whether the card is expanded */\n  expanded?: boolean;\n  /** Callback when toggle is triggered */\n  onToggle?: () => void;\n  children: ReactNode;\n}\n\n/** Props for RepositoryCardGlass.Header */\nexport interface RepositoryCardHeaderProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n}\n\n/** Props for RepositoryCardGlass.Name */\nexport interface RepositoryCardNameProps extends React.HTMLAttributes<HTMLSpanElement> {\n  children: ReactNode;\n}\n\n/** Props for RepositoryCardGlass.Status */\nexport interface RepositoryCardStatusProps {\n  type?: RepositoryFlagType;\n  className?: string;\n}\n\n/** Props for RepositoryCardGlass.Stars */\nexport interface RepositoryCardStarsProps extends React.HTMLAttributes<HTMLSpanElement> {\n  count: number;\n}\n\n/** Props for RepositoryCardGlass.Meta */\nexport interface RepositoryCardMetaProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n}\n\n/** Props for RepositoryCardGlass.Languages */\nexport interface RepositoryCardLanguagesProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n}\n\n/** Props for RepositoryCardGlass.Stats */\nexport interface RepositoryCardStatsProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n}\n\n/** Props for RepositoryCardGlass.ExpandedContent */\nexport interface RepositoryCardExpandedContentProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n}\n\n/** Props for RepositoryCardGlass.Issues */\nexport interface RepositoryCardIssuesProps extends React.HTMLAttributes<HTMLDivElement> {\n  issues: readonly string[];\n}\n\n/** Props for RepositoryCardGlass.Metrics */\nexport interface RepositoryCardMetricsProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n}\n\n/** Props for RepositoryCardGlass.MetricItem */\nexport interface RepositoryCardMetricItemProps extends React.HTMLAttributes<HTMLDivElement> {\n  label: string;\n  value: string | number;\n  subtitle?: string;\n}\n\n/** Props for RepositoryCardGlass.Actions */\nexport interface RepositoryCardActionsProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n}\n\n/** Legacy props for backward compatibility */\nexport interface RepositoryCardGlassLegacyProps extends React.HTMLAttributes<HTMLDivElement> {\n  readonly name: string;\n  readonly languages: string;\n  readonly commits: number;\n  readonly contribution: number;\n  readonly stars?: number;\n  readonly flagType?: RepositoryFlagType;\n  readonly issues?: readonly string[];\n  readonly expanded?: boolean;\n  readonly onToggle?: () => void;\n  readonly onGitHubClick?: () => void;\n  readonly onAIAnalysisClick?: () => void;\n}\n\n// ========================================\n// COMPOUND COMPONENTS\n// ========================================\n\n/** Root container with context provider */\nconst RepositoryCardRoot = forwardRef<HTMLDivElement, RepositoryCardRootProps>(\n  ({ expanded = false, onToggle, children, className, ...props }, ref) => {\n    const contextValue = useMemo<RepositoryCardContextValue>(\n      () => ({ expanded, onToggle }),\n      [expanded, onToggle]\n    );\n\n    return (\n      <RepositoryCardContext.Provider value={contextValue}>\n        <InteractiveCard\n          ref={ref}\n          baseBg=\"var(--card-bg)\"\n          hoverBg=\"var(--card-hover-bg)\"\n          borderColor=\"var(--card-border)\"\n          hoverLift={false}\n          blur=\"sm\"\n          rounded=\"rounded-xl\"\n          className={cn('overflow-hidden', className)}\n          {...props}\n        >\n          {children}\n        </InteractiveCard>\n      </RepositoryCardContext.Provider>\n    );\n  }\n);\nRepositoryCardRoot.displayName = 'RepositoryCardGlass.Root';\n\n/** Header section with toggle functionality */\nconst RepositoryCardHeader = forwardRef<HTMLDivElement, RepositoryCardHeaderProps>(\n  ({ children, className, ...props }, ref) => {\n    const { expanded, onToggle } = useRepositoryCard();\n\n    return (\n      <div\n        ref={ref}\n        className={cn('p-3 md:p-3.5 cursor-pointer', className)}\n        onClick={onToggle}\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            onToggle?.();\n          }\n        }}\n        aria-expanded={expanded}\n        {...props}\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2.5\">{children}</div>\n          <div className=\"flex items-center gap-2\">\n            {expanded ? (\n              <ChevronUp className=\"w-4 h-4 text-(--text-muted)\" />\n            ) : (\n              <ChevronDown className=\"w-4 h-4 text-(--text-muted)\" />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n);\nRepositoryCardHeader.displayName = 'RepositoryCardGlass.Header';\n\n/** Repository name */\nconst RepositoryCardName = forwardRef<HTMLSpanElement, RepositoryCardNameProps>(\n  ({ children, className, ...props }, ref) => (\n    <span\n      ref={ref}\n      className={cn('font-medium text-sm text-(--text-primary)', className)}\n      {...props}\n    >\n      {children}\n    </span>\n  )\n);\nRepositoryCardName.displayName = 'RepositoryCardGlass.Name';\n\n/** Status indicator wrapper */\nconst RepositoryCardStatus = forwardRef<HTMLSpanElement, RepositoryCardStatusProps>(\n  ({ type = 'green', className }, ref) => (\n    <span ref={ref} className={className}>\n      <StatusIndicatorGlass type={type} />\n    </span>\n  )\n);\nRepositoryCardStatus.displayName = 'RepositoryCardGlass.Status';\n\n/** Stars count display */\nconst RepositoryCardStars = forwardRef<HTMLSpanElement, RepositoryCardStarsProps>(\n  ({ count, className, ...props }, ref) => {\n    if (count <= 0) return null;\n\n    return (\n      <span\n        ref={ref}\n        className={cn('flex items-center gap-1 text-xs text-(--status-away)', className)}\n        {...props}\n      >\n        <Star className=\"w-3 h-3\" />\n        {count}\n      </span>\n    );\n  }\n);\nRepositoryCardStars.displayName = 'RepositoryCardGlass.Stars';\n\n/** Meta information container */\nconst RepositoryCardMeta = forwardRef<HTMLDivElement, RepositoryCardMetaProps>(\n  ({ children, className, ...props }, ref) => (\n    <div ref={ref} className={cn('px-3 pb-3 md:px-3.5 md:pb-3.5 -mt-1', className)} {...props}>\n      {children}\n    </div>\n  )\n);\nRepositoryCardMeta.displayName = 'RepositoryCardGlass.Meta';\n\n/** Languages display */\nconst RepositoryCardLanguages = forwardRef<HTMLDivElement, RepositoryCardLanguagesProps>(\n  ({ children, className, ...props }, ref) => (\n    <div ref={ref} className={cn('text-xs text-(--text-muted)', className)} {...props}>\n      {children}\n    </div>\n  )\n);\nRepositoryCardLanguages.displayName = 'RepositoryCardGlass.Languages';\n\n/** Stats line display */\nconst RepositoryCardStatsLine = forwardRef<HTMLDivElement, RepositoryCardStatsProps>(\n  ({ children, className, ...props }, ref) => (\n    <div ref={ref} className={cn('text-xs mt-0.5 text-(--text-secondary)', className)} {...props}>\n      {children}\n    </div>\n  )\n);\nRepositoryCardStatsLine.displayName = 'RepositoryCardGlass.Stats';\n\n/** Expanded content container - only renders when expanded */\nconst RepositoryCardExpandedContent = forwardRef<\n  HTMLDivElement,\n  RepositoryCardExpandedContentProps\n>(({ children, className, ...props }, ref) => {\n  const { expanded } = useRepositoryCard();\n\n  if (!expanded) return null;\n\n  const expandedStyles: CSSProperties = {\n    background: 'var(--expanded-bg)',\n    borderColor: 'var(--card-border)',\n  };\n\n  return (\n    <div\n      ref={ref}\n      className={cn('border-t p-3.5 space-y-3', className)}\n      style={expandedStyles}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n});\nRepositoryCardExpandedContent.displayName = 'RepositoryCardGlass.ExpandedContent';\n\n/** Issues alert */\nconst RepositoryCardIssues = forwardRef<HTMLDivElement, RepositoryCardIssuesProps>(\n  ({ issues, className, ...props }, ref) => {\n    if (issues.length === 0) return null;\n\n    return (\n      <div\n        ref={ref}\n        className={cn('p-3 rounded-xl border', className)}\n        style={{\n          background: 'var(--alert-danger-bg)',\n          borderColor: 'var(--alert-danger-border)',\n        }}\n        {...props}\n      >\n        <div\n          className=\"text-xs font-semibold flex items-center gap-1.5 mb-1.5\"\n          style={{ color: 'var(--alert-danger-text)' }}\n        >\n          <AlertTriangle className=\"w-3.5 h-3.5\" />\n          Issues\n        </div>\n        {issues.map((issue, index) => (\n          <div\n            key={index}\n            className=\"text-xs opacity-70\"\n            style={{ color: 'var(--alert-danger-text)' }}\n          >\n            • {issue}\n          </div>\n        ))}\n      </div>\n    );\n  }\n);\nRepositoryCardIssues.displayName = 'RepositoryCardGlass.Issues';\n\n/** Metrics grid container */\nconst RepositoryCardMetrics = forwardRef<HTMLDivElement, RepositoryCardMetricsProps>(\n  ({ children, className, ...props }, ref) => (\n    <div ref={ref} className={cn('grid grid-cols-2 gap-2', className)} {...props}>\n      {children}\n    </div>\n  )\n);\nRepositoryCardMetrics.displayName = 'RepositoryCardGlass.Metrics';\n\n/** Single metric item */\nconst RepositoryCardMetricItem = forwardRef<HTMLDivElement, RepositoryCardMetricItemProps>(\n  ({ label, value, subtitle, className, ...props }, ref) => {\n    const metricCardStyles: CSSProperties = {\n      background: 'var(--card-bg)',\n      borderColor: 'var(--card-border)',\n    };\n\n    return (\n      <div\n        ref={ref}\n        className={cn('p-2.5 rounded-lg border', className)}\n        style={metricCardStyles}\n        {...props}\n      >\n        <div className=\"text-xs text-(--text-muted)\">{label}</div>\n        <div className=\"font-semibold text-(--text-primary)\">{value}</div>\n        {subtitle && <div className=\"text-xs text-(--text-muted)\">{subtitle}</div>}\n      </div>\n    );\n  }\n);\nRepositoryCardMetricItem.displayName = 'RepositoryCardGlass.MetricItem';\n\n/** Actions container */\nconst RepositoryCardActions = forwardRef<HTMLDivElement, RepositoryCardActionsProps>(\n  ({ children, className, ...props }, ref) => (\n    <div ref={ref} className={cn('flex flex-col sm:flex-row gap-2', className)} {...props}>\n      {children}\n    </div>\n  )\n);\nRepositoryCardActions.displayName = 'RepositoryCardGlass.Actions';\n\n// ========================================\n// LEGACY COMPONENT (backward compatibility)\n// ========================================\n\nconst RepositoryCardGlassLegacy = forwardRef<HTMLDivElement, RepositoryCardGlassLegacyProps>(\n  (\n    {\n      name,\n      languages,\n      commits,\n      contribution,\n      stars = 0,\n      flagType = 'green',\n      issues = [],\n      expanded = false,\n      onToggle,\n      onGitHubClick,\n      onAIAnalysisClick,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    // Calculate total project commits from contribution percentage\n    const totalProjectCommits =\n      contribution > 0 ? Math.round(commits / (contribution / 100)) : commits;\n    const estimatedLines = Math.round(commits * 12);\n\n    return (\n      <RepositoryCardRoot\n        ref={ref}\n        expanded={expanded}\n        onToggle={onToggle}\n        className={className}\n        {...props}\n      >\n        <RepositoryCardHeader>\n          <RepositoryCardName>{name}</RepositoryCardName>\n          <RepositoryCardStatus type={flagType} />\n          <RepositoryCardStars count={stars} />\n        </RepositoryCardHeader>\n\n        <RepositoryCardMeta>\n          <RepositoryCardLanguages>{languages}</RepositoryCardLanguages>\n          <RepositoryCardStatsLine>\n            {commits} commits · {contribution}%\n          </RepositoryCardStatsLine>\n        </RepositoryCardMeta>\n\n        <RepositoryCardExpandedContent>\n          <RepositoryCardIssues issues={issues} />\n\n          <RepositoryCardMetrics>\n            <RepositoryCardMetricItem\n              label=\"Your Contribution\"\n              value={`${commits} commits`}\n              subtitle={`${contribution}%`}\n            />\n            <RepositoryCardMetricItem\n              label=\"Full Project\"\n              value={`${totalProjectCommits} commits`}\n              subtitle={`~${estimatedLines} lines`}\n            />\n          </RepositoryCardMetrics>\n\n          <RepositoryCardActions>\n            <ButtonGlass\n              variant=\"secondary\"\n              size=\"sm\"\n              icon={ExternalLink}\n              onClick={(e) => {\n                e.stopPropagation();\n                onGitHubClick?.();\n              }}\n              className=\"flex-1\"\n            >\n              GitHub\n            </ButtonGlass>\n            <ButtonGlass\n              variant=\"default\"\n              size=\"sm\"\n              icon={Sparkles}\n              onClick={(e) => {\n                e.stopPropagation();\n                onAIAnalysisClick?.();\n              }}\n              className=\"flex-1\"\n            >\n              AI Analysis\n            </ButtonGlass>\n          </RepositoryCardActions>\n        </RepositoryCardExpandedContent>\n      </RepositoryCardRoot>\n    );\n  }\n);\nRepositoryCardGlassLegacy.displayName = 'RepositoryCardGlass';\n\n// ========================================\n// EXPORTS\n// ========================================\n\n/**\n * RepositoryCardGlass - Expandable repository card with compound API\n *\n * @example Legacy API (backward compatible)\n * ```tsx\n * <RepositoryCardGlass\n *   name=\"my-repo\"\n *   languages=\"TypeScript, React\"\n *   commits={500}\n *   contribution={45}\n *   expanded={true}\n *   onToggle={() => setExpanded(!expanded)}\n * />\n * ```\n *\n * @example Compound API (flexible)\n * ```tsx\n * <RepositoryCardGlass.Root expanded={expanded} onToggle={() => setExpanded(!expanded)}>\n *   <RepositoryCardGlass.Header>\n *     <RepositoryCardGlass.Name>my-repo</RepositoryCardGlass.Name>\n *     <RepositoryCardGlass.Status type=\"green\" />\n *     <RepositoryCardGlass.Stars count={42} />\n *   </RepositoryCardGlass.Header>\n *   <RepositoryCardGlass.Meta>\n *     <RepositoryCardGlass.Languages>TypeScript</RepositoryCardGlass.Languages>\n *     <RepositoryCardGlass.Stats>500 commits · 45%</RepositoryCardGlass.Stats>\n *   </RepositoryCardGlass.Meta>\n *   <RepositoryCardGlass.ExpandedContent>\n *     <RepositoryCardGlass.Metrics>\n *       <RepositoryCardGlass.MetricItem label=\"Commits\" value=\"500\" />\n *     </RepositoryCardGlass.Metrics>\n *   </RepositoryCardGlass.ExpandedContent>\n * </RepositoryCardGlass.Root>\n * ```\n */\nexport const RepositoryCardGlass = Object.assign(RepositoryCardGlassLegacy, {\n  Root: RepositoryCardRoot,\n  Header: RepositoryCardHeader,\n  Name: RepositoryCardName,\n  Status: RepositoryCardStatus,\n  Stars: RepositoryCardStars,\n  Meta: RepositoryCardMeta,\n  Languages: RepositoryCardLanguages,\n  Stats: RepositoryCardStatsLine,\n  ExpandedContent: RepositoryCardExpandedContent,\n  Issues: RepositoryCardIssues,\n  Metrics: RepositoryCardMetrics,\n  MetricItem: RepositoryCardMetricItem,\n  Actions: RepositoryCardActions,\n});\n\n// Named exports for direct imports\nexport {\n  RepositoryCardRoot,\n  RepositoryCardHeader,\n  RepositoryCardName,\n  RepositoryCardStatus,\n  RepositoryCardStars,\n  RepositoryCardMeta,\n  RepositoryCardLanguages,\n  RepositoryCardStatsLine,\n  RepositoryCardExpandedContent,\n  RepositoryCardIssues,\n  RepositoryCardMetrics,\n  RepositoryCardMetricItem,\n  RepositoryCardActions,\n};\n\n// Re-export context hook\nexport { useRepositoryCard, useRepositoryCardOptional } from './repository-card-context';\n"
    }
  ],
  "categories": [
    "composite"
  ]
}