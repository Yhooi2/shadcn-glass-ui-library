{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "repository-card-glass",
  "type": "registry:block",
  "title": "Repository Card Glass",
  "description": "Repository Card Glass component with glass effects",
  "dependencies": ["react"],
  "registryDependencies": ["cn"],
  "files": [
    {
      "path": "components/glass/composite/repository-card-glass.tsx",
      "type": "registry:component",
      "content": "// ========================================\n// REPOSITORY CARD GLASS COMPONENT\n// Expandable repository card with metrics\n// ========================================\n\nimport { forwardRef, type CSSProperties } from \"react\";\nimport {\n  ChevronDown,\n  ChevronUp,\n  Star,\n  ExternalLink,\n  Sparkles,\n  AlertTriangle,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { StatusIndicatorGlass } from \"../specialized/status-indicator-glass\";\nimport { ButtonGlass } from \"../ui/button-glass\";\nimport { InteractiveCard } from \"../primitives\";\nimport \"@/glass-theme.css\";\n\nexport type RepositoryFlagType = \"green\" | \"yellow\" | \"red\";\n\nexport interface RepositoryCardGlassProps extends React.HTMLAttributes<HTMLDivElement> {\n  readonly name: string;\n  readonly languages: string;\n  readonly commits: number;\n  readonly contribution: number;\n  readonly stars?: number;\n  readonly flagType?: RepositoryFlagType;\n  readonly issues?: readonly string[];\n  readonly expanded?: boolean;\n  readonly onToggle?: () => void;\n  readonly onGitHubClick?: () => void;\n  readonly onAIAnalysisClick?: () => void;\n}\n\nexport const RepositoryCardGlass = forwardRef<HTMLDivElement, RepositoryCardGlassProps>(\n  (\n    {\n      name,\n      languages,\n      commits,\n      contribution,\n      stars = 0,\n      flagType = \"green\",\n      issues = [],\n      expanded = false,\n      onToggle,\n      onGitHubClick,\n      onAIAnalysisClick,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    // Calculate total project commits from contribution percentage\n    const totalProjectCommits = contribution > 0\n      ? Math.round(commits / (contribution / 100))\n      : commits;\n    const estimatedLines = Math.round(commits * 12);\n\n    const expandedStyles: CSSProperties = {\n      background: \"var(--expanded-bg)\",\n      borderColor: \"var(--card-border)\",\n    };\n\n    const metricCardStyles: CSSProperties = {\n      background: \"var(--card-bg)\",\n      borderColor: \"var(--card-border)\",\n    };\n\n    return (\n      <InteractiveCard\n        ref={ref}\n        baseBg=\"var(--card-bg)\"\n        hoverBg=\"var(--card-hover-bg)\"\n        borderColor=\"var(--card-border)\"\n        hoverLift={false}\n        blur=\"sm\"\n        rounded=\"rounded-xl\"\n        className={cn(\"overflow-hidden\", className)}\n        {...props}\n      >\n        {/* Main Card Content */}\n        <div\n          className=\"p-3 md:p-3.5 cursor-pointer\"\n          onClick={onToggle}\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\" || e.key === \" \") {\n              e.preventDefault();\n              onToggle?.();\n            }\n          }}\n          aria-expanded={expanded}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2.5\">\n              <span\n                className=\"font-medium text-sm\"\n                style={{ color: \"var(--text-primary)\" }}\n              >\n                {name}\n              </span>\n              <StatusIndicatorGlass type={flagType} />\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {stars > 0 && (\n                <span\n                  className=\"flex items-center gap-1 text-xs\"\n                  style={{ color: \"var(--status-away)\" }}\n                >\n                  <Star className=\"w-3 h-3\" />\n                  {stars}\n                </span>\n              )}\n              {expanded ? (\n                <ChevronUp className=\"w-4 h-4\" style={{ color: \"var(--text-muted)\" }} />\n              ) : (\n                <ChevronDown className=\"w-4 h-4\" style={{ color: \"var(--text-muted)\" }} />\n              )}\n            </div>\n          </div>\n          <div\n            className=\"text-xs mt-1.5\"\n            style={{ color: \"var(--text-muted)\" }}\n          >\n            {languages}\n          </div>\n          <div\n            className=\"text-xs mt-0.5\"\n            style={{ color: \"var(--text-secondary)\" }}\n          >\n            {commits} commits · {contribution}%\n          </div>\n        </div>\n\n        {/* Expanded Section */}\n        {expanded && (\n          <div\n            className=\"border-t p-3.5 space-y-3\"\n            style={expandedStyles}\n          >\n            {/* Issues Alert */}\n            {issues.length > 0 && (\n              <div\n                className=\"p-3 rounded-xl border\"\n                style={{\n                  background: \"var(--alert-danger-bg)\",\n                  borderColor: \"var(--alert-danger-border)\",\n                }}\n              >\n                <div\n                  className=\"text-xs font-semibold flex items-center gap-1.5 mb-1.5\"\n                  style={{ color: \"var(--alert-danger-text)\" }}\n                >\n                  <AlertTriangle className=\"w-3.5 h-3.5\" />\n                  Issues\n                </div>\n                {issues.map((issue, index) => (\n                  <div\n                    key={index}\n                    className=\"text-xs opacity-70\"\n                    style={{ color: \"var(--alert-danger-text)\" }}\n                  >\n                    • {issue}\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {/* Contribution Metrics */}\n            <div className=\"grid grid-cols-2 gap-2\">\n              <div\n                className=\"p-2.5 rounded-lg border\"\n                style={metricCardStyles}\n              >\n                <div\n                  className=\"text-xs\"\n                  style={{ color: \"var(--text-muted)\" }}\n                >\n                  Your Contribution\n                </div>\n                <div\n                  className=\"font-semibold\"\n                  style={{ color: \"var(--text-primary)\" }}\n                >\n                  {commits} commits\n                </div>\n                <div\n                  className=\"text-xs\"\n                  style={{ color: \"var(--text-muted)\" }}\n                >\n                  {contribution}%\n                </div>\n              </div>\n              <div\n                className=\"p-2.5 rounded-lg border\"\n                style={metricCardStyles}\n              >\n                <div\n                  className=\"text-xs\"\n                  style={{ color: \"var(--text-muted)\" }}\n                >\n                  Full Project\n                </div>\n                <div\n                  className=\"font-semibold\"\n                  style={{ color: \"var(--text-primary)\" }}\n                >\n                  {totalProjectCommits} commits\n                </div>\n                <div\n                  className=\"text-xs\"\n                  style={{ color: \"var(--text-muted)\" }}\n                >\n                  ~{estimatedLines} lines\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex flex-col sm:flex-row gap-2\">\n              <ButtonGlass\n                variant=\"secondary\"\n                size=\"sm\"\n                icon={ExternalLink}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onGitHubClick?.();\n                }}\n                className=\"flex-1\"\n              >\n                GitHub\n              </ButtonGlass>\n              <ButtonGlass\n                variant=\"default\"\n                size=\"sm\"\n                icon={Sparkles}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onAIAnalysisClick?.();\n                }}\n                className=\"flex-1\"\n              >\n                AI Analysis\n              </ButtonGlass>\n            </div>\n          </div>\n        )}\n      </InteractiveCard>\n    );\n  }\n);\n\nRepositoryCardGlass.displayName = \"RepositoryCardGlass\";\n"
    }
  ],
  "categories": ["composite"]
}
