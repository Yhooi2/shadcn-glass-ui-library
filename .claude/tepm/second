import React, { useState, createContext, useContext } from 'react';
import {
  Sun,
  Moon,
  Palette,
  X,
  Check,
  ChevronDown,
  ChevronRight,
  ChevronUp,
  AlertTriangle,
  AlertCircle,
  Info,
  CheckCircle,
  Search,
  Settings,
  User,
  LogOut,
  Mail,
  Calendar,
  Star,
  Trash2,
  Eye,
  RefreshCw,
  ExternalLink,
  Github,
  Sparkles,
  ArrowRight,
  ArrowLeft,
  Home,
  Folder,
  Zap,
  Clock,
  Lock,
} from 'lucide-react';

// ========================================
// THEME SYSTEM
// ========================================
const ThemeContext = createContext();
const themes = ['light', 'aurora', 'glass'];
const themeConfig = {
  light: { label: 'Light', icon: Sun },
  aurora: { label: 'Aurora', icon: Moon },
  glass: { label: 'Glass', icon: Palette },
};

export const useTheme = () => useContext(ThemeContext);

// ========================================
// THEME STYLES - EXACT MATCH TO ORIGINAL
// ========================================
const themeStyles = {
  light: {
    // Background
    bgFrom: '#f1f5f9',
    bgVia: '#eff6ff',
    bgTo: '#f5f3ff',
    // Orbs
    orb1: 'rgba(96,165,250,0.20)',
    orb2: 'rgba(167,139,250,0.15)',
    orb3: 'rgba(34,211,238,0.15)',
    orb4: 'rgba(129,140,248,0.10)',
    // Glass
    glassSubtleBg: 'rgba(255,255,255,0.60)',
    glassMediumBg: 'rgba(255,255,255,0.70)',
    glassStrongBg: 'rgba(255,255,255,0.80)',
    glassSubtleBorder: 'rgba(255,255,255,0.50)',
    glassMediumBorder: 'rgba(255,255,255,0.60)',
    glassStrongBorder: 'rgba(255,255,255,0.70)',
    // Text
    textPrimary: '#1e293b',
    textSecondary: '#64748b',
    textMuted: '#94a3b8',
    textAccent: '#7c3aed',
    textInverse: '#ffffff',
    // Header
    headerBg: 'rgba(255,255,255,0.60)',
    headerBorder: 'rgba(255,255,255,0.80)',
    // Glow
    glowViolet: '0 8px 32px rgba(124,58,237,0.15), 0 0 0 1px rgba(124,58,237,0.1)',
    glowBlue: '0 8px 32px rgba(59,130,246,0.15), 0 0 0 1px rgba(59,130,246,0.1)',
    glowCyan: '0 8px 32px rgba(6,182,212,0.15), 0 0 0 1px rgba(6,182,212,0.1)',
    glowNeutral: '0 8px 32px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.05)',
    // Progress
    progressBg: 'rgba(226,232,240,0.60)',
    progressGlow: '0 0 8px rgba(124,58,237,0.3)',
    // Status
    statusGreen: '#10b981',
    statusYellow: '#f59e0b',
    statusRed: '#ef4444',
    statusBlue: '#3b82f6',
    // Metrics
    metricEmeraldBg: 'rgba(16,185,129,0.10)',
    metricEmeraldText: '#059669',
    metricEmeraldBorder: '#a7f3d0',
    metricAmberBg: 'rgba(245,158,11,0.10)',
    metricAmberText: '#d97706',
    metricAmberBorder: '#fde68a',
    metricBlueBg: 'rgba(59,130,246,0.10)',
    metricBlueText: '#2563eb',
    metricBlueBorder: '#bfdbfe',
    metricRedBg: 'rgba(239,68,68,0.10)',
    metricRedText: '#dc2626',
    metricRedBorder: '#fecaca',
    // Alerts
    alertDangerBg: 'rgba(239,68,68,0.05)',
    alertDangerBorder: 'rgba(254,202,202,0.6)',
    alertDangerText: '#b91c1c',
    alertWarningBg: 'rgba(245,158,11,0.05)',
    alertWarningBorder: 'rgba(253,230,138,0.6)',
    alertWarningText: '#b45309',
    alertInfoBg: 'rgba(59,130,246,0.05)',
    alertInfoBorder: 'rgba(191,219,254,0.6)',
    alertInfoText: '#1d4ed8',
    alertSuccessBg: 'rgba(16,185,129,0.05)',
    alertSuccessBorder: 'rgba(167,243,208,0.6)',
    alertSuccessText: '#047857',
    // Cards
    cardBg: 'rgba(255,255,255,0.60)',
    cardBorder: 'rgba(226,232,240,0.60)',
    cardHoverBg: 'rgba(255,255,255,0.80)',
    expandedBg: 'rgba(255,255,255,0.70)',
    expandedBorder: 'rgba(139,92,246,0.5)',
    // Buttons
    btnPrimaryBg: 'linear-gradient(135deg, #7c3aed, #8b5cf6)',
    btnPrimaryText: '#ffffff',
    btnPrimaryHoverBg: 'linear-gradient(135deg, #6d28d9, #7c3aed)',
    btnPrimaryGlow: '0 0 20px rgba(124,58,237,0.4), 0 0 40px rgba(124,58,237,0.2)',
    btnSecondaryBg: 'rgba(255,255,255,0.80)',
    btnSecondaryText: '#334155',
    btnSecondaryBorder: '#e2e8f0',
    btnSecondaryHoverBg: 'rgba(241,245,249,1)',
    btnSecondaryGlow: '0 4px 20px rgba(0,0,0,0.08)',
    btnGhostBg: 'transparent',
    btnGhostText: '#64748b',
    btnGhostHoverBg: 'rgba(241,245,249,0.80)',
    btnDangerBg: 'linear-gradient(135deg, #ef4444, #f87171)',
    btnDangerText: '#ffffff',
    btnDangerGlow: '0 0 20px rgba(239,68,68,0.4)',
    btnSuccessBg: 'linear-gradient(135deg, #10b981, #34d399)',
    btnSuccessText: '#ffffff',
    btnSuccessGlow: '0 0 20px rgba(16,185,129,0.4)',
    // Badges
    badgeDefaultBg: 'rgba(100,116,139,0.1)',
    badgeDefaultText: '#475569',
    badgeDefaultBorder: '#e2e8f0',
    badgeSuccessBg: 'rgba(16,185,129,0.1)',
    badgeSuccessText: '#047857',
    badgeSuccessBorder: '#a7f3d0',
    badgeWarningBg: 'rgba(245,158,11,0.1)',
    badgeWarningText: '#b45309',
    badgeWarningBorder: '#fde68a',
    badgeDangerBg: 'rgba(239,68,68,0.1)',
    badgeDangerText: '#b91c1c',
    badgeDangerBorder: '#fecaca',
    badgePrimaryBg: 'rgba(59,130,246,0.1)',
    badgePrimaryText: '#1d4ed8',
    badgePrimaryBorder: '#bfdbfe',
    badgeVioletBg: 'rgba(139,92,246,0.1)',
    badgeVioletText: '#6d28d9',
    badgeVioletBorder: '#ddd6fe',
    // Search/Toggle
    searchBg: 'rgba(255,255,255,0.80)',
    searchBorder: 'rgba(226,232,240,0.8)',
    searchText: '#64748b',
    toggleText: '#64748b',
    // Inputs
    inputBg: 'rgba(255,255,255,0.90)',
    inputBorder: '#e2e8f0',
    inputText: '#1e293b',
    inputPlaceholder: '#94a3b8',
    inputFocusBorder: '#7c3aed',
    inputFocusGlow: '0 0 0 3px rgba(124,58,237,0.15)',
    // Icon button
    iconBtnFrom: '#1e293b',
    iconBtnTo: '#0f172a',
    iconBtnShadow: '0 4px 12px rgba(0,0,0,0.15)',
    iconBtnText: 'white',
    // Avatar
    avatarBorder: '#ffffff',
    avatarGlow: '0 8px 24px rgba(124,58,237,0.25)',
    onlineBorder: 'white',
    // Language bar
    langBarShadow: 'inset 0 1px 2px rgba(0,0,0,0.1)',
    // Grid
    gridColor: 'rgba(0,0,0,0.1)',
    gridOpacity: 0.015,
    // Toggle/Switch
    toggleBg: '#e2e8f0',
    toggleActiveBg: 'linear-gradient(135deg, #7c3aed, #8b5cf6)',
    toggleKnob: '#ffffff',
    toggleGlow: '0 0 12px rgba(124,58,237,0.4)',
    // Checkbox
    checkboxBg: '#ffffff',
    checkboxBorder: '#cbd5e1',
    checkboxCheckedBg: '#7c3aed',
    checkboxGlow: '0 0 0 3px rgba(124,58,237,0.15)',
    // Tabs
    tabBg: 'transparent',
    tabActiveBg: 'rgba(124,58,237,0.10)',
    tabActiveText: '#7c3aed',
    tabBorder: '#e2e8f0',
    tabIndicator: '#7c3aed',
    // Tooltips
    tooltipBg: '#0f172a',
    tooltipText: '#ffffff',
    tooltipBorder: '#1e293b',
    // Modals
    modalBg: 'rgba(255,255,255,0.98)',
    modalBorder: 'rgba(226,232,240,0.80)',
    modalOverlay: 'rgba(15,23,42,0.50)',
    modalGlow: '0 25px 50px rgba(0,0,0,0.15)',
    // Dropdowns
    dropdownBg: 'rgba(255,255,255,0.98)',
    dropdownBorder: '#e2e8f0',
    dropdownItemHover: 'rgba(241,245,249,0.90)',
    dropdownGlow: '0 10px 40px rgba(0,0,0,0.10)',
    // Skeleton
    skeletonBg: '#e2e8f0',
    skeletonShine: 'rgba(255,255,255,0.6)',
    // List
    listItemHover: 'rgba(241,245,249,0.80)',
    listItemActive: 'rgba(124,58,237,0.08)',
    listDivider: '#e2e8f0',
    // Table
    tableBg: 'rgba(255,255,255,0.80)',
    tableHeaderBg: 'rgba(248,250,252,0.90)',
    tableRowHover: 'rgba(241,245,249,0.80)',
    tableBorder: '#e2e8f0',
    // Notification
    notificationBg: 'rgba(255,255,255,0.98)',
    notificationGlow: '0 10px 40px rgba(0,0,0,0.12)',
    // Slider
    sliderTrack: '#e2e8f0',
    sliderFill: '#7c3aed',
    sliderThumb: '#ffffff',
    sliderThumbBorder: '#7c3aed',
    sliderThumbGlow: '0 0 8px rgba(124,58,237,0.4)',
    // Footer
    footerText: 'rgba(148,163,184,0.6)',
  },

  aurora: {
    // Background - dark slate
    bgFrom: '#020617',
    bgVia: '#0f172a',
    bgTo: '#020617',
    // Orbs - subtle
    orb1: 'rgba(37,99,235,0.10)',
    orb2: 'rgba(124,58,237,0.08)',
    orb3: 'rgba(8,145,178,0.08)',
    orb4: 'rgba(79,70,229,0.06)',
    // Glass - slate based
    glassSubtleBg: 'rgba(30,41,59,0.40)',
    glassMediumBg: 'rgba(30,41,59,0.50)',
    glassStrongBg: 'rgba(30,41,59,0.60)',
    glassSubtleBorder: 'rgba(51,65,85,0.30)',
    glassMediumBorder: 'rgba(51,65,85,0.40)',
    glassStrongBorder: 'rgba(51,65,85,0.50)',
    // Text
    textPrimary: '#e2e8f0',
    textSecondary: '#94a3b8',
    textMuted: '#64748b',
    textAccent: '#a78bfa',
    textInverse: '#0f172a',
    // Header
    headerBg: 'rgba(15,23,42,0.60)',
    headerBorder: 'rgba(51,65,85,0.50)',
    // Glow
    glowViolet: '0 8px 32px rgba(124,58,237,0.12), inset 0 1px 0 rgba(255,255,255,0.05)',
    glowBlue: '0 8px 32px rgba(59,130,246,0.12), inset 0 1px 0 rgba(255,255,255,0.05)',
    glowCyan: '0 8px 32px rgba(6,182,212,0.12), inset 0 1px 0 rgba(255,255,255,0.05)',
    glowNeutral: '0 8px 32px rgba(0,0,0,0.30), inset 0 1px 0 rgba(255,255,255,0.05)',
    // Progress
    progressBg: 'rgba(51,65,85,0.50)',
    progressGlow: '0 0 12px rgba(124,58,237,0.4)',
    // Status
    statusGreen: '#34d399',
    statusYellow: '#fbbf24',
    statusRed: '#f87171',
    statusBlue: '#60a5fa',
    // Metrics
    metricEmeraldBg: 'rgba(16,185,129,0.10)',
    metricEmeraldText: '#34d399',
    metricEmeraldBorder: 'rgba(16,185,129,0.20)',
    metricAmberBg: 'rgba(245,158,11,0.10)',
    metricAmberText: '#fbbf24',
    metricAmberBorder: 'rgba(245,158,11,0.20)',
    metricBlueBg: 'rgba(59,130,246,0.10)',
    metricBlueText: '#60a5fa',
    metricBlueBorder: 'rgba(59,130,246,0.20)',
    metricRedBg: 'rgba(239,68,68,0.10)',
    metricRedText: '#f87171',
    metricRedBorder: 'rgba(239,68,68,0.20)',
    // Alerts
    alertDangerBg: 'rgba(239,68,68,0.10)',
    alertDangerBorder: 'rgba(239,68,68,0.20)',
    alertDangerText: '#f87171',
    alertWarningBg: 'rgba(245,158,11,0.10)',
    alertWarningBorder: 'rgba(245,158,11,0.20)',
    alertWarningText: '#fbbf24',
    alertInfoBg: 'rgba(96,165,250,0.10)',
    alertInfoBorder: 'rgba(96,165,250,0.20)',
    alertInfoText: '#60a5fa',
    alertSuccessBg: 'rgba(52,211,153,0.10)',
    alertSuccessBorder: 'rgba(52,211,153,0.20)',
    alertSuccessText: '#34d399',
    // Cards
    cardBg: 'rgba(30,41,59,0.40)',
    cardBorder: 'rgba(51,65,85,0.40)',
    cardHoverBg: 'rgba(30,41,59,0.60)',
    expandedBg: 'rgba(30,41,59,0.40)',
    expandedBorder: 'rgba(139,92,246,0.50)',
    // Buttons
    btnPrimaryBg: 'linear-gradient(135deg, #7c3aed, #8b5cf6)',
    btnPrimaryText: '#ffffff',
    btnPrimaryHoverBg: 'linear-gradient(135deg, #8b5cf6, #a78bfa)',
    btnPrimaryGlow: '0 0 25px rgba(139,92,246,0.5), 0 0 50px rgba(139,92,246,0.25)',
    btnSecondaryBg: 'rgba(51,65,85,0.60)',
    btnSecondaryText: '#e2e8f0',
    btnSecondaryBorder: 'rgba(71,85,105,0.50)',
    btnSecondaryHoverBg: 'rgba(71,85,105,0.80)',
    btnSecondaryGlow: '0 4px 20px rgba(0,0,0,0.30)',
    btnGhostBg: 'transparent',
    btnGhostText: '#94a3b8',
    btnGhostHoverBg: 'rgba(51,65,85,0.50)',
    btnDangerBg: 'linear-gradient(135deg, #ef4444, #f87171)',
    btnDangerText: '#ffffff',
    btnDangerGlow: '0 0 25px rgba(248,113,113,0.5)',
    btnSuccessBg: 'linear-gradient(135deg, #10b981, #34d399)',
    btnSuccessText: '#ffffff',
    btnSuccessGlow: '0 0 25px rgba(52,211,153,0.5)',
    // Badges
    badgeDefaultBg: 'rgba(71,85,105,0.30)',
    badgeDefaultText: '#cbd5e1',
    badgeDefaultBorder: 'rgba(71,85,105,0.50)',
    badgeSuccessBg: 'rgba(16,185,129,0.20)',
    badgeSuccessText: '#34d399',
    badgeSuccessBorder: 'rgba(16,185,129,0.30)',
    badgeWarningBg: 'rgba(245,158,11,0.20)',
    badgeWarningText: '#fbbf24',
    badgeWarningBorder: 'rgba(245,158,11,0.30)',
    badgeDangerBg: 'rgba(239,68,68,0.20)',
    badgeDangerText: '#f87171',
    badgeDangerBorder: 'rgba(239,68,68,0.30)',
    badgePrimaryBg: 'rgba(59,130,246,0.20)',
    badgePrimaryText: '#60a5fa',
    badgePrimaryBorder: 'rgba(59,130,246,0.30)',
    badgeVioletBg: 'rgba(139,92,246,0.20)',
    badgeVioletText: '#a78bfa',
    badgeVioletBorder: 'rgba(139,92,246,0.30)',
    // Search/Toggle
    searchBg: 'rgba(30,41,59,0.60)',
    searchBorder: 'rgba(51,65,85,0.50)',
    searchText: '#94a3b8',
    toggleText: '#fbbf24',
    // Inputs
    inputBg: 'rgba(30,41,59,0.80)',
    inputBorder: 'rgba(51,65,85,0.60)',
    inputText: '#e2e8f0',
    inputPlaceholder: '#64748b',
    inputFocusBorder: '#a78bfa',
    inputFocusGlow: '0 0 0 3px rgba(167,139,250,0.20)',
    // Icon button
    iconBtnFrom: '#334155',
    iconBtnTo: '#1e293b',
    iconBtnShadow: '0 4px 12px rgba(0,0,0,0.30)',
    iconBtnText: '#e2e8f0',
    // Avatar
    avatarBorder: '#0f172a',
    avatarGlow: '0 8px 24px rgba(124,58,237,0.25)',
    onlineBorder: '#0f172a',
    // Language bar
    langBarShadow: '0 0 8px rgba(124,58,237,0.15)',
    // Grid
    gridColor: 'rgba(255,255,255,0.05)',
    gridOpacity: 0.02,
    // Toggle/Switch
    toggleBg: 'rgba(51,65,85,0.80)',
    toggleActiveBg: 'linear-gradient(135deg, #7c3aed, #8b5cf6)',
    toggleKnob: '#f1f5f9',
    toggleGlow: '0 0 15px rgba(139,92,246,0.5)',
    // Checkbox
    checkboxBg: 'rgba(30,41,59,0.80)',
    checkboxBorder: 'rgba(71,85,105,0.80)',
    checkboxCheckedBg: '#8b5cf6',
    checkboxGlow: '0 0 0 3px rgba(139,92,246,0.20)',
    // Tabs
    tabBg: 'transparent',
    tabActiveBg: 'rgba(139,92,246,0.15)',
    tabActiveText: '#a78bfa',
    tabBorder: 'rgba(51,65,85,0.50)',
    tabIndicator: '#a78bfa',
    // Tooltips
    tooltipBg: '#1e293b',
    tooltipText: '#f1f5f9',
    tooltipBorder: '#334155',
    // Modals
    modalBg: 'rgba(15,23,42,0.98)',
    modalBorder: 'rgba(51,65,85,0.60)',
    modalOverlay: 'rgba(0,0,0,0.70)',
    modalGlow: '0 25px 50px rgba(0,0,0,0.50)',
    // Dropdowns
    dropdownBg: 'rgba(30,41,59,0.98)',
    dropdownBorder: 'rgba(51,65,85,0.60)',
    dropdownItemHover: 'rgba(51,65,85,0.70)',
    dropdownGlow: '0 10px 40px rgba(0,0,0,0.40)',
    // Skeleton
    skeletonBg: 'rgba(51,65,85,0.60)',
    skeletonShine: 'rgba(255,255,255,0.08)',
    // List
    listItemHover: 'rgba(51,65,85,0.60)',
    listItemActive: 'rgba(139,92,246,0.15)',
    listDivider: 'rgba(51,65,85,0.50)',
    // Table
    tableBg: 'rgba(30,41,59,0.60)',
    tableHeaderBg: 'rgba(15,23,42,0.80)',
    tableRowHover: 'rgba(51,65,85,0.50)',
    tableBorder: 'rgba(51,65,85,0.50)',
    // Notification
    notificationBg: 'rgba(30,41,59,0.98)',
    notificationGlow: '0 10px 40px rgba(0,0,0,0.40)',
    // Slider
    sliderTrack: 'rgba(51,65,85,0.80)',
    sliderFill: '#8b5cf6',
    sliderThumb: '#f1f5f9',
    sliderThumbBorder: '#8b5cf6',
    sliderThumbGlow: '0 0 12px rgba(139,92,246,0.5)',
    // Footer
    footerText: '#64748b',
  },

  glass: {
    // Background - purple glassmorphism
    bgFrom: '#0f172a',
    bgVia: '#581c87',
    bgTo: '#0f172a',
    // Orbs - vibrant animated
    orb1: 'rgba(168,85,247,0.30)',
    orb2: 'rgba(59,130,246,0.20)',
    orb3: 'rgba(236,72,153,0.20)',
    orb4: 'rgba(6,182,212,0.20)',
    orb5: 'rgba(139,92,246,0.10)',
    // Glass - white based for glassmorphism
    glassSubtleBg: 'rgba(255,255,255,0.10)',
    glassMediumBg: 'rgba(255,255,255,0.15)',
    glassStrongBg: 'rgba(255,255,255,0.25)',
    glassSubtleBorder: 'rgba(255,255,255,0.10)',
    glassMediumBorder: 'rgba(255,255,255,0.20)',
    glassStrongBorder: 'rgba(255,255,255,0.30)',
    // Text
    textPrimary: 'rgba(255,255,255,0.90)',
    textSecondary: 'rgba(255,255,255,0.60)',
    textMuted: 'rgba(255,255,255,0.40)',
    textAccent: '#c4b5fd',
    textInverse: '#0f172a',
    // Header
    headerBg: 'rgba(255,255,255,0.05)',
    headerBorder: 'rgba(255,255,255,0.10)',
    // Glow - intense
    glowViolet: '0 8px 32px rgba(147,51,234,0.30)',
    glowBlue: '0 8px 32px rgba(59,130,246,0.30)',
    glowCyan: '0 8px 32px rgba(6,182,212,0.25)',
    glowNeutral: '0 8px 32px rgba(0,0,0,0.12)',
    // Progress
    progressBg: 'rgba(255,255,255,0.10)',
    progressGlow: '0 0 16px rgba(147,51,234,0.4)',
    // Status
    statusGreen: '#34d399',
    statusYellow: '#fbbf24',
    statusRed: '#fb7185',
    statusBlue: '#60a5fa',
    // Metrics - with text glow
    metricEmeraldBg: 'transparent',
    metricEmeraldText: '#34d399',
    metricEmeraldBorder: 'transparent',
    metricEmeraldGlow: '0 0 12px rgba(52,211,153,0.4)',
    metricAmberBg: 'transparent',
    metricAmberText: '#fbbf24',
    metricAmberBorder: 'transparent',
    metricAmberGlow: '0 0 12px rgba(251,191,36,0.4)',
    metricBlueBg: 'transparent',
    metricBlueText: '#60a5fa',
    metricBlueBorder: 'transparent',
    metricBlueGlow: '0 0 12px rgba(96,165,250,0.4)',
    metricRedBg: 'transparent',
    metricRedText: '#fb7185',
    metricRedBorder: 'transparent',
    metricRedGlow: '0 0 12px rgba(251,113,133,0.4)',
    // Alerts
    alertDangerBg: 'rgba(251,113,133,0.10)',
    alertDangerBorder: 'rgba(251,113,133,0.20)',
    alertDangerText: '#fda4af',
    alertWarningBg: 'rgba(251,191,36,0.10)',
    alertWarningBorder: 'rgba(251,191,36,0.20)',
    alertWarningText: '#fcd34d',
    alertInfoBg: 'rgba(96,165,250,0.10)',
    alertInfoBorder: 'rgba(96,165,250,0.20)',
    alertInfoText: '#93c5fd',
    alertSuccessBg: 'rgba(52,211,153,0.10)',
    alertSuccessBorder: 'rgba(52,211,153,0.20)',
    alertSuccessText: '#6ee7b7',
    // Cards
    cardBg: 'rgba(255,255,255,0.05)',
    cardBorder: 'rgba(255,255,255,0.10)',
    cardHoverBg: 'rgba(255,255,255,0.07)',
    expandedBg: 'rgba(255,255,255,0.05)',
    expandedBorder: 'rgba(167,139,250,0.50)',
    // Buttons
    btnPrimaryBg: 'linear-gradient(135deg, #a855f7, #8b5cf6)',
    btnPrimaryText: '#ffffff',
    btnPrimaryHoverBg: 'linear-gradient(135deg, #c084fc, #a855f7)',
    btnPrimaryGlow: '0 0 30px rgba(168,85,247,0.6), 0 0 60px rgba(168,85,247,0.3)',
    btnSecondaryBg: 'rgba(255,255,255,0.10)',
    btnSecondaryText: 'rgba(255,255,255,0.80)',
    btnSecondaryBorder: 'rgba(255,255,255,0.20)',
    btnSecondaryHoverBg: 'rgba(255,255,255,0.18)',
    btnSecondaryGlow: '0 4px 20px rgba(168,85,247,0.20)',
    btnGhostBg: 'transparent',
    btnGhostText: 'rgba(255,255,255,0.70)',
    btnGhostHoverBg: 'rgba(255,255,255,0.10)',
    btnDangerBg: 'linear-gradient(135deg, #f43f5e, #fb7185)',
    btnDangerText: '#ffffff',
    btnDangerGlow: '0 0 30px rgba(244,63,94,0.5)',
    btnSuccessBg: 'linear-gradient(135deg, #10b981, #34d399)',
    btnSuccessText: '#0f172a',
    btnSuccessGlow: '0 0 30px rgba(52,211,153,0.5)',
    // Badges
    badgeDefaultBg: 'rgba(255,255,255,0.20)',
    badgeDefaultText: 'rgba(255,255,255,0.90)',
    badgeDefaultBorder: 'transparent',
    badgeSuccessBg: 'rgba(52,211,153,0.20)',
    badgeSuccessText: '#6ee7b7',
    badgeSuccessBorder: 'transparent',
    badgeWarningBg: 'rgba(251,191,36,0.20)',
    badgeWarningText: '#fcd34d',
    badgeWarningBorder: 'transparent',
    badgeDangerBg: 'rgba(251,113,133,0.20)',
    badgeDangerText: '#fda4af',
    badgeDangerBorder: 'transparent',
    badgePrimaryBg: 'rgba(96,165,250,0.20)',
    badgePrimaryText: '#93c5fd',
    badgePrimaryBorder: 'transparent',
    badgeVioletBg: 'rgba(167,139,250,0.20)',
    badgeVioletText: '#c4b5fd',
    badgeVioletBorder: 'transparent',
    // Search/Toggle
    searchBg: 'rgba(255,255,255,0.10)',
    searchBorder: 'rgba(255,255,255,0.10)',
    searchText: 'rgba(255,255,255,0.70)',
    toggleText: 'rgba(255,255,255,0.60)',
    // Inputs
    inputBg: 'rgba(255,255,255,0.08)',
    inputBorder: 'rgba(255,255,255,0.15)',
    inputText: 'rgba(255,255,255,0.90)',
    inputPlaceholder: 'rgba(255,255,255,0.40)',
    inputFocusBorder: '#c4b5fd',
    inputFocusGlow: '0 0 0 3px rgba(196,181,253,0.25), 0 0 20px rgba(168,85,247,0.20)',
    // Icon button - purple gradient
    iconBtnFrom: '#8b5cf6',
    iconBtnTo: '#9333ea',
    iconBtnShadow: '0 0 12px rgba(147,51,234,0.50)',
    iconBtnText: 'white',
    // Avatar
    avatarBorder: 'rgba(168,85,247,0.50)',
    avatarGlow: '0 0 24px rgba(147,51,234,0.50)',
    onlineBorder: '#0f172a',
    // Language bar
    langBarShadow: '0 0 12px rgba(147,51,234,0.30)',
    // Grid
    gridColor: 'rgba(255,255,255,0.05)',
    gridOpacity: 0.03,
    // Toggle/Switch
    toggleBg: 'rgba(255,255,255,0.15)',
    toggleActiveBg: 'linear-gradient(135deg, #a855f7, #8b5cf6)',
    toggleKnob: '#ffffff',
    toggleGlow: '0 0 20px rgba(168,85,247,0.6)',
    // Checkbox
    checkboxBg: 'rgba(255,255,255,0.08)',
    checkboxBorder: 'rgba(255,255,255,0.25)',
    checkboxCheckedBg: '#a855f7',
    checkboxGlow: '0 0 0 3px rgba(168,85,247,0.25)',
    // Tabs
    tabBg: 'transparent',
    tabActiveBg: 'rgba(168,85,247,0.20)',
    tabActiveText: '#c4b5fd',
    tabBorder: 'rgba(255,255,255,0.10)',
    tabIndicator: '#c4b5fd',
    // Tooltips
    tooltipBg: 'rgba(15,23,42,0.95)',
    tooltipText: 'rgba(255,255,255,0.95)',
    tooltipBorder: 'rgba(255,255,255,0.15)',
    // Modals
    modalBg: 'rgba(15,23,42,0.85)',
    modalBorder: 'rgba(255,255,255,0.15)',
    modalOverlay: 'rgba(0,0,0,0.60)',
    modalGlow: '0 25px 80px rgba(168,85,247,0.30)',
    // Dropdowns
    dropdownBg: 'rgba(15,23,42,0.90)',
    dropdownBorder: 'rgba(255,255,255,0.15)',
    dropdownItemHover: 'rgba(255,255,255,0.10)',
    dropdownGlow: '0 15px 50px rgba(168,85,247,0.25)',
    // Skeleton
    skeletonBg: 'rgba(255,255,255,0.08)',
    skeletonShine: 'rgba(255,255,255,0.15)',
    // List
    listItemHover: 'rgba(255,255,255,0.08)',
    listItemActive: 'rgba(168,85,247,0.20)',
    listDivider: 'rgba(255,255,255,0.10)',
    // Table
    tableBg: 'rgba(255,255,255,0.05)',
    tableHeaderBg: 'rgba(255,255,255,0.08)',
    tableRowHover: 'rgba(255,255,255,0.08)',
    tableBorder: 'rgba(255,255,255,0.10)',
    // Notification
    notificationBg: 'rgba(15,23,42,0.90)',
    notificationGlow: '0 15px 50px rgba(168,85,247,0.30)',
    // Slider
    sliderTrack: 'rgba(255,255,255,0.15)',
    sliderFill: '#a855f7',
    sliderThumb: '#ffffff',
    sliderThumbBorder: '#a855f7',
    sliderThumbGlow: '0 0 15px rgba(168,85,247,0.6)',
    // Footer
    footerText: 'rgba(255,255,255,0.30)',
  },
};

// ========================================
// CSS ANIMATIONS
// ========================================
const AnimationStyles = () => (
  <style>{`
    @keyframes pulse-glow {
      0%, 100% { box-shadow: var(--glow-base); }
      50% { box-shadow: var(--glow-intense); }
    }
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-6px); }
    }
    @keyframes ripple {
      0% { transform: scale(0); opacity: 0.6; }
      100% { transform: scale(4); opacity: 0; }
    }
    @keyframes pulse-ring {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(1.5); opacity: 0; }
    }
    @keyframes glow-pulse {
      0%, 100% { opacity: 0.6; filter: brightness(1); }
      50% { opacity: 1; filter: brightness(1.2); }
    }
    @keyframes color-shift {
      0%, 100% { filter: hue-rotate(0deg); }
      50% { filter: hue-rotate(15deg); }
    }
    @keyframes skeleton-loading {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
    @keyframes orb-float {
      0%, 100% { transform: translate(0, 0) scale(1); }
      33% { transform: translate(10px, -10px) scale(1.05); }
      66% { transform: translate(-5px, 5px) scale(0.95); }
    }
    @keyframes btn-shine {
      0% { left: -100%; }
      50%, 100% { left: 100%; }
    }
    .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
    .animate-float { animation: float 3s ease-in-out infinite; }
    .animate-glow-pulse { animation: glow-pulse 2s ease-in-out infinite; }
    .animate-color-shift { animation: color-shift 3s ease-in-out infinite; }
    .animate-orb-float { animation: orb-float 8s ease-in-out infinite; }
    .hover-glow { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .hover-glow:hover { transform: translateY(-2px); }
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(148,163,184,0.3); border-radius: 3px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(148,163,184,0.5); }
  `}</style>
);

// ========================================
// GLASS CARD COMPONENT
// ========================================
const GlassCard = ({
  children,
  className = '',
  intensity = 'medium',
  glow = null,
  hover = true,
}) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const [isHovered, setIsHovered] = useState(false);

  const bgMap = { subtle: t.glassSubtleBg, medium: t.glassMediumBg, strong: t.glassStrongBg };
  const borderMap = {
    subtle: t.glassSubtleBorder,
    medium: t.glassMediumBorder,
    strong: t.glassStrongBorder,
  };
  const blurMap = { subtle: '8px', medium: '12px', strong: '16px' };

  const glowMap = {
    blue: t.glowBlue,
    violet: t.glowViolet,
    purple: t.glowViolet,
    cyan: t.glowCyan,
    null: t.glowNeutral,
  };

  return (
    <div
      className={`border rounded-2xl transition-all duration-300 ${hover ? 'hover-glow cursor-pointer' : ''} ${className}`}
      style={{
        background: isHovered && hover ? t.cardHoverBg : bgMap[intensity],
        borderColor:
          isHovered && hover ? t.cardHoverBorder || borderMap[intensity] : borderMap[intensity],
        backdropFilter: `blur(${blurMap[intensity]})`,
        WebkitBackdropFilter: `blur(${blurMap[intensity]})`,
        boxShadow: glow ? glowMap[glow] : isHovered && hover ? t.cardHoverGlow : t.glowNeutral,
      }}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      {children}
    </div>
  );
};

// ========================================
// BUTTON COMPONENT WITH GLOW ANIMATIONS
// ========================================
const Button = ({
  children,
  variant = 'primary',
  size = 'md',
  disabled = false,
  loading = false,
  icon: Icon,
  iconPosition = 'left',
  className = '',
  onClick,
  ...props
}) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const [isHovered, setIsHovered] = useState(false);
  const [ripple, setRipple] = useState(null);

  const sizes = {
    sm: 'px-3 py-1.5 text-xs gap-1.5',
    md: 'px-4 py-2 text-sm gap-2',
    lg: 'px-6 py-3 text-base gap-2.5',
    xl: 'px-8 py-4 text-lg gap-3',
  };

  const getVariantStyles = () => {
    const variants = {
      primary: {
        background: isHovered ? t.btnPrimaryHoverBg : t.btnPrimaryBg,
        color: t.btnPrimaryText,
        border: 'none',
        boxShadow: isHovered ? t.btnPrimaryGlow : '0 4px 15px rgba(124,58,237,0.25)',
      },
      secondary: {
        background: isHovered ? t.btnSecondaryHoverBg : t.btnSecondaryBg,
        color: t.btnSecondaryText,
        border: `1px solid ${t.btnSecondaryBorder}`,
        boxShadow: isHovered ? t.btnSecondaryGlow : 'none',
      },
      ghost: {
        background: isHovered ? t.btnGhostHoverBg : t.btnGhostBg,
        color: t.btnGhostText,
        border: 'none',
        boxShadow: 'none',
      },
      danger: {
        background: t.btnDangerBg,
        color: t.btnDangerText,
        border: 'none',
        boxShadow: isHovered ? t.btnDangerGlow : '0 4px 15px rgba(239,68,68,0.25)',
      },
      success: {
        background: t.btnSuccessBg,
        color: t.btnSuccessText,
        border: 'none',
        boxShadow: isHovered ? t.btnSuccessGlow : '0 4px 15px rgba(16,185,129,0.25)',
      },
    };
    return variants[variant] || variants.primary;
  };

  const handleClick = (e) => {
    if (disabled || loading) return;
    const rect = e.currentTarget.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    setRipple({ x, y });
    setTimeout(() => setRipple(null), 600);
    onClick?.(e);
  };

  return (
    <button
      className={`relative overflow-hidden rounded-xl font-medium inline-flex items-center justify-center
        transition-all duration-300 ease-out ${sizes[size]} ${className}
        ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}
        ${isHovered && !disabled ? 'scale-[1.02]' : ''}`}
      style={getVariantStyles()}
      disabled={disabled || loading}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
      onClick={handleClick}
      {...props}
    >
      {/* Shine effect on hover */}
      {isHovered && variant === 'primary' && !disabled && (
        <div className="absolute inset-0 overflow-hidden" style={{ borderRadius: 'inherit' }}>
          <div
            className="absolute top-0 h-full w-1/3 bg-gradient-to-r from-transparent via-white/20 to-transparent"
            style={{ animation: 'btn-shine 1.5s ease-in-out infinite' }}
          />
        </div>
      )}

      {/* Ripple effect */}
      {ripple && (
        <span
          className="absolute rounded-full bg-white/30"
          style={{
            left: ripple.x,
            top: ripple.y,
            width: 10,
            height: 10,
            transform: 'translate(-50%, -50%)',
            animation: 'ripple 0.6s ease-out',
          }}
        />
      )}

      {/* Pulsing glow on hover */}
      {isHovered && variant === 'primary' && !disabled && (
        <div
          className="absolute inset-0 rounded-xl animate-glow-pulse"
          style={{
            background: 'radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%)',
            pointerEvents: 'none',
          }}
        />
      )}

      {loading && <RefreshCw className="w-4 h-4 animate-spin" />}
      {!loading && Icon && iconPosition === 'left' && <Icon className="w-4 h-4" />}
      {!loading && children}
      {!loading && Icon && iconPosition === 'right' && <Icon className="w-4 h-4" />}
    </button>
  );
};

// ========================================
// INPUT COMPONENT
// ========================================
const Input = ({
  label,
  placeholder,
  type = 'text',
  value,
  onChange,
  error,
  success,
  disabled,
  icon: Icon,
  iconPosition = 'left',
  className = '',
  ...props
}) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const [isFocused, setIsFocused] = useState(false);

  const getBorderColor = () => {
    if (error) return t.statusRed;
    if (success) return t.statusGreen;
    if (isFocused) return t.inputFocusBorder;
    return t.inputBorder;
  };

  return (
    <div className={`flex flex-col gap-1.5 ${className}`}>
      {label && (
        <label className="text-sm font-medium" style={{ color: t.textSecondary }}>
          {label}
        </label>
      )}
      <div className="relative">
        {Icon && iconPosition === 'left' && (
          <Icon
            className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 transition-colors duration-300"
            style={{ color: isFocused ? t.textAccent : t.textMuted }}
          />
        )}
        <input
          type={type}
          value={value}
          onChange={onChange}
          placeholder={placeholder}
          disabled={disabled}
          onFocus={() => setIsFocused(true)}
          onBlur={() => setIsFocused(false)}
          className={`w-full rounded-xl px-4 py-2.5 text-sm transition-all duration-300 outline-none
            ${Icon && iconPosition === 'left' ? 'pl-10' : ''}
            ${Icon && iconPosition === 'right' ? 'pr-10' : ''}
            ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}
          style={{
            background: t.inputBg,
            border: `1px solid ${getBorderColor()}`,
            color: t.inputText,
            boxShadow: isFocused ? t.inputFocusGlow : 'none',
            backdropFilter: 'blur(8px)',
            WebkitBackdropFilter: 'blur(8px)',
          }}
          {...props}
        />
        {Icon && iconPosition === 'right' && (
          <Icon
            className="absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 transition-colors duration-300"
            style={{ color: isFocused ? t.textAccent : t.textMuted }}
          />
        )}
      </div>
      {error && (
        <span className="text-xs" style={{ color: t.alertDangerText }}>
          {error}
        </span>
      )}
      {success && (
        <span className="text-xs" style={{ color: t.alertSuccessText }}>
          {success}
        </span>
      )}
    </div>
  );
};

// ========================================
// PROGRESS BAR COMPONENT
// ========================================
const Progress = ({
  value,
  size = 'md',
  gradient = 'from-violet-500 to-purple-500',
  showLabel,
}) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const sizes = { sm: 'h-1', md: 'h-2', lg: 'h-3', xl: 'h-4' };

  return (
    <div className="w-full">
      {showLabel && (
        <div className="flex justify-between mb-1">
          <span className="text-xs" style={{ color: t.textMuted }}>
            Progress
          </span>
          <span className="text-xs font-medium" style={{ color: t.textSecondary }}>
            {value}%
          </span>
        </div>
      )}
      <div
        className={`${sizes[size]} rounded-full overflow-hidden`}
        style={{ background: t.progressBg }}
      >
        <div
          className={`h-full bg-gradient-to-r ${gradient} rounded-full transition-all duration-700 ease-out`}
          style={{ width: `${value}%`, boxShadow: t.progressGlow }}
        />
      </div>
    </div>
  );
};

// ========================================
// BADGE COMPONENT
// ========================================
const Badge = ({ children, variant = 'default', size = 'md', dot }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];

  const variants = {
    default: { bg: t.badgeDefaultBg, text: t.badgeDefaultText, border: t.badgeDefaultBorder },
    success: { bg: t.badgeSuccessBg, text: t.badgeSuccessText, border: t.badgeSuccessBorder },
    warning: { bg: t.badgeWarningBg, text: t.badgeWarningText, border: t.badgeWarningBorder },
    danger: { bg: t.badgeDangerBg, text: t.badgeDangerText, border: t.badgeDangerBorder },
    info: { bg: t.badgePrimaryBg, text: t.badgePrimaryText, border: t.badgePrimaryBorder },
    violet: { bg: t.badgeVioletBg, text: t.badgeVioletText, border: t.badgeVioletBorder },
  };

  const sizes = {
    sm: 'px-1.5 py-0.5 text-[10px]',
    md: 'px-2.5 py-0.5 text-xs',
    lg: 'px-3 py-1 text-sm',
  };
  const v = variants[variant] || variants.default;

  return (
    <span
      className={`inline-flex items-center gap-1.5 rounded-full font-medium ${sizes[size]}`}
      style={{
        background: v.bg,
        color: v.text,
        border: v.border ? `1px solid ${v.border}` : 'none',
      }}
    >
      {dot && (
        <span className="w-1.5 h-1.5 rounded-full animate-pulse" style={{ background: v.text }} />
      )}
      {children}
    </span>
  );
};

// ========================================
// ALERT COMPONENT
// ========================================
const Alert = ({ type = 'info', title, children, dismissible, onDismiss }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];

  const types = {
    info: { bg: t.alertInfoBg, border: t.alertInfoBorder, text: t.alertInfoText, icon: Info },
    success: {
      bg: t.alertSuccessBg,
      border: t.alertSuccessBorder,
      text: t.alertSuccessText,
      icon: CheckCircle,
    },
    warning: {
      bg: t.alertWarningBg,
      border: t.alertWarningBorder,
      text: t.alertWarningText,
      icon: AlertTriangle,
    },
    error: {
      bg: t.alertDangerBg,
      border: t.alertDangerBorder,
      text: t.alertDangerText,
      icon: AlertCircle,
    },
  };

  const config = types[type];
  const Icon = config.icon;

  return (
    <div
      className="flex items-start gap-3 p-4 rounded-xl transition-all duration-300"
      style={{
        background: config.bg,
        border: `1px solid ${config.border}`,
        backdropFilter: 'blur(8px)',
        WebkitBackdropFilter: 'blur(8px)',
      }}
    >
      <Icon className="w-5 h-5 flex-shrink-0 mt-0.5" style={{ color: config.text }} />
      <div className="flex-1">
        {title && (
          <p className="font-medium text-sm mb-1" style={{ color: config.text }}>
            {title}
          </p>
        )}
        <p className="text-sm" style={{ color: `${config.text}cc` }}>
          {children}
        </p>
      </div>
      {dismissible && (
        <button
          onClick={onDismiss}
          className="p-1 rounded transition-colors duration-200 hover:bg-black/5"
        >
          <X className="w-4 h-4" style={{ color: config.text }} />
        </button>
      )}
    </div>
  );
};

// ========================================
// TOGGLE COMPONENT WITH GLOW
// ========================================
const Toggle = ({ checked, onChange, disabled, size = 'md' }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];

  const sizes = {
    sm: { track: 'w-8 h-4', knob: 'w-3 h-3', translate: 'translate-x-4' },
    md: { track: 'w-11 h-6', knob: 'w-5 h-5', translate: 'translate-x-5' },
    lg: { track: 'w-14 h-7', knob: 'w-6 h-6', translate: 'translate-x-7' },
  };

  const s = sizes[size];

  return (
    <button
      onClick={() => !disabled && onChange?.(!checked)}
      className={`relative ${s.track} rounded-full transition-all duration-300 
        ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}
      style={{
        background: checked ? t.toggleActiveBg : t.toggleBg,
        boxShadow: checked ? t.toggleGlow : 'none',
      }}
    >
      <div
        className={`absolute top-0.5 left-0.5 ${s.knob} rounded-full shadow-md transition-all duration-300
          ${checked ? s.translate : ''}`}
        style={{ background: t.toggleKnob }}
      />
    </button>
  );
};

// ========================================
// CHECKBOX COMPONENT
// ========================================
const Checkbox = ({ checked, onChange, label, disabled }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const [isHovered, setIsHovered] = useState(false);

  return (
    <label
      className={`inline-flex items-center gap-2 ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      <div
        onClick={() => !disabled && onChange?.(!checked)}
        className="relative w-5 h-5 rounded-md transition-all duration-300 flex items-center justify-center"
        style={{
          background: checked ? t.checkboxCheckedBg : t.checkboxBg,
          border: `2px solid ${checked ? t.checkboxCheckedBg : t.checkboxBorder}`,
          boxShadow: isHovered ? t.checkboxGlow : 'none',
        }}
      >
        {checked && <Check className="w-3 h-3" style={{ color: t.textInverse }} />}
      </div>
      {label && (
        <span className="text-sm" style={{ color: t.textSecondary }}>
          {label}
        </span>
      )}
    </label>
  );
};

// ========================================
// TOOLTIP COMPONENT
// ========================================
const Tooltip = ({ children, content, position = 'top' }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const [isVisible, setIsVisible] = useState(false);

  const positions = {
    top: 'bottom-full left-1/2 -translate-x-1/2 mb-2',
    bottom: 'top-full left-1/2 -translate-x-1/2 mt-2',
    left: 'right-full top-1/2 -translate-y-1/2 mr-2',
    right: 'left-full top-1/2 -translate-y-1/2 ml-2',
  };

  return (
    <div
      className="relative inline-flex"
      onMouseEnter={() => setIsVisible(true)}
      onMouseLeave={() => setIsVisible(false)}
    >
      {children}
      {isVisible && (
        <div
          className={`absolute ${positions[position]} px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap z-50
            transition-all duration-200 animate-float`}
          style={{
            background: t.tooltipBg,
            color: t.tooltipText,
            border: `1px solid ${t.tooltipBorder}`,
            boxShadow: '0 4px 20px rgba(0,0,0,0.25)',
            backdropFilter: 'blur(8px)',
            WebkitBackdropFilter: 'blur(8px)',
          }}
        >
          {content}
        </div>
      )}
    </div>
  );
};

// ========================================
// MODAL COMPONENT - Glass Theme Fixed
// ========================================
const Modal = ({ isOpen, onClose, title, children, size = 'md' }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const [isClosing, setIsClosing] = useState(false);

  const sizes = {
    sm: 'max-w-sm',
    md: 'max-w-md',
    lg: 'max-w-lg',
    xl: 'max-w-xl',
    full: 'max-w-4xl',
  };

  // Glass theme specific styles
  const isGlass = theme === 'glass';
  const modalStyles = isGlass
    ? {
        background: 'rgba(255,255,255,0.06)',
        border: '1px solid rgba(255,255,255,0.12)',
        boxShadow: '0 25px 80px rgba(168,85,247,0.35), inset 0 1px 0 rgba(255,255,255,0.15)',
      }
    : {
        background: t.modalBg,
        border: `1px solid ${t.modalBorder}`,
        boxShadow: t.modalGlow,
      };

  const handleClose = () => {
    setIsClosing(true);
    setTimeout(() => {
      setIsClosing(false);
      onClose();
    }, 200);
  };

  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
      {/* Overlay */}
      <div
        className="absolute inset-0 transition-all duration-300"
        style={{
          background: t.modalOverlay,
          backdropFilter: 'blur(8px)',
          WebkitBackdropFilter: 'blur(8px)',
          opacity: isClosing ? 0 : 1,
        }}
        onClick={handleClose}
      />

      {/* Modal content */}
      <div
        className={`relative ${sizes[size]} w-full rounded-3xl p-6 transition-all duration-300`}
        style={{
          ...modalStyles,
          backdropFilter: 'blur(24px)',
          WebkitBackdropFilter: 'blur(24px)',
          transform: isClosing ? 'scale(0.95) translateY(10px)' : 'scale(1) translateY(0)',
          opacity: isClosing ? 0 : 1,
          animation: !isClosing ? 'modalFadeIn 0.3s ease-out' : 'none',
        }}
      >
        {/* Glow effect for glass theme */}
        {isGlass && (
          <div
            className="absolute inset-0 rounded-3xl pointer-events-none"
            style={{
              background:
                'radial-gradient(ellipse at top, rgba(168,85,247,0.15) 0%, transparent 50%)',
            }}
          />
        )}

        {/* Header */}
        <div className="relative flex items-center justify-between mb-5">
          <h3 className="text-xl font-semibold" style={{ color: t.textPrimary }}>
            {title}
          </h3>
          <button
            onClick={handleClose}
            className="p-2 rounded-xl transition-all duration-300"
            style={{
              background: isGlass ? 'rgba(255,255,255,0.08)' : t.listItemHover,
              border: isGlass ? '1px solid rgba(255,255,255,0.10)' : 'none',
              color: t.textMuted,
            }}
            onMouseEnter={(e) => {
              if (isGlass) {
                e.currentTarget.style.background = 'rgba(255,255,255,0.15)';
                e.currentTarget.style.boxShadow = '0 0 20px rgba(168,85,247,0.30)';
              }
            }}
            onMouseLeave={(e) => {
              if (isGlass) {
                e.currentTarget.style.background = 'rgba(255,255,255,0.08)';
                e.currentTarget.style.boxShadow = 'none';
              }
            }}
          >
            <X className="w-4 h-4" />
          </button>
        </div>

        {/* Content */}
        <div className="relative" style={{ color: t.textSecondary }}>
          {children}
        </div>
      </div>

      <style>{`
        @keyframes modalFadeIn {
          from { opacity: 0; transform: scale(0.95) translateY(20px); }
          to { opacity: 1; transform: scale(1) translateY(0); }
        }
      `}</style>
    </div>
  );
};

// ========================================
// TABS COMPONENT
// ========================================
const Tabs = ({ tabs, activeTab, onChange }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];

  return (
    <div
      className="flex gap-1 p-1 rounded-xl"
      style={{ background: t.glassSubtleBg, border: `1px solid ${t.glassSubtleBorder}` }}
    >
      {tabs.map((tab) => (
        <button
          key={tab.id}
          onClick={() => onChange(tab.id)}
          className="relative px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300"
          style={{
            background: activeTab === tab.id ? t.tabActiveBg : t.tabBg,
            color: activeTab === tab.id ? t.tabActiveText : t.textSecondary,
          }}
        >
          {tab.label}
          {activeTab === tab.id && (
            <div
              className="absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 rounded-full"
              style={{ background: t.tabIndicator }}
            />
          )}
        </button>
      ))}
    </div>
  );
};

// ========================================
// DROPDOWN COMPONENT - Glass Theme Fixed
// ========================================
const Dropdown = ({ trigger, items, align = 'left' }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const [isOpen, setIsOpen] = useState(false);
  const [hoveredItem, setHoveredItem] = useState(null);

  // Glass theme specific styles
  const isGlass = theme === 'glass';
  const dropdownStyles = isGlass
    ? {
        background: 'rgba(255,255,255,0.08)',
        border: '1px solid rgba(255,255,255,0.15)',
        boxShadow: '0 15px 50px rgba(168,85,247,0.25), inset 0 1px 0 rgba(255,255,255,0.10)',
      }
    : {
        background: t.dropdownBg,
        border: `1px solid ${t.dropdownBorder}`,
        boxShadow: t.dropdownGlow,
      };

  return (
    <div className="relative inline-block">
      <div onClick={() => setIsOpen(!isOpen)}>{trigger}</div>

      {isOpen && (
        <>
          <div className="fixed inset-0 z-40" onClick={() => setIsOpen(false)} />
          <div
            className={`absolute z-50 mt-2 min-w-[200px] rounded-2xl py-2 transition-all duration-300
              ${align === 'right' ? 'right-0' : 'left-0'}`}
            style={{
              ...dropdownStyles,
              backdropFilter: 'blur(20px)',
              WebkitBackdropFilter: 'blur(20px)',
              animation: 'dropdownFadeIn 0.2s ease-out',
            }}
          >
            {items.map((item, idx) =>
              item.divider ? (
                <div
                  key={idx}
                  className="my-2 mx-3"
                  style={{
                    borderTop: `1px solid ${isGlass ? 'rgba(255,255,255,0.08)' : t.listDivider}`,
                  }}
                />
              ) : (
                <button
                  key={idx}
                  onClick={() => {
                    item.onClick?.();
                    setIsOpen(false);
                  }}
                  className="w-full px-4 py-2.5 text-sm text-left flex items-center gap-3 transition-all duration-200"
                  style={{
                    color: item.danger
                      ? isGlass
                        ? '#fb7185'
                        : t.alertDangerText
                      : isGlass
                        ? 'rgba(255,255,255,0.80)'
                        : t.textSecondary,
                    background:
                      hoveredItem === idx
                        ? isGlass
                          ? 'rgba(255,255,255,0.10)'
                          : t.dropdownItemHover
                        : 'transparent',
                  }}
                  onMouseEnter={() => setHoveredItem(idx)}
                  onMouseLeave={() => setHoveredItem(null)}
                >
                  {item.icon && (
                    <item.icon
                      className="w-4 h-4 transition-all duration-200"
                      style={{
                        color: item.danger
                          ? isGlass
                            ? '#fb7185'
                            : t.alertDangerText
                          : hoveredItem === idx
                            ? isGlass
                              ? '#c4b5fd'
                              : t.textAccent
                            : isGlass
                              ? 'rgba(255,255,255,0.50)'
                              : t.textMuted,
                      }}
                    />
                  )}
                  <span className="font-medium">{item.label}</span>
                </button>
              )
            )}
          </div>
        </>
      )}

      <style>{`
        @keyframes dropdownFadeIn {
          from { opacity: 0; transform: translateY(-8px) scale(0.96); }
          to { opacity: 1; transform: translateY(0) scale(1); }
        }
      `}</style>
    </div>
  );
};

// ========================================
// AVATAR COMPONENT - Glass Theme Fixed
// ========================================
const Avatar = ({ name, size = 'md', status, className = '' }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const [isHovered, setIsHovered] = useState(false);

  const sizes = {
    sm: 'w-8 h-8 text-xs',
    md: 'w-10 h-10 text-sm',
    lg: 'w-12 h-12 text-base',
    xl: 'w-16 h-16 text-lg',
  };
  const statusSizes = { sm: 'w-2.5 h-2.5', md: 'w-3 h-3', lg: 'w-3.5 h-3.5', xl: 'w-4 h-4' };

  const isGlass = theme === 'glass';

  // Status colors with glow for glass theme
  const getStatusStyle = (statusType) => {
    const colors = {
      online: {
        bg: t.statusGreen,
        glow: `0 0 8px ${t.statusGreen}99, 0 0 16px ${t.statusGreen}4d`,
      },
      offline: { bg: t.textMuted, glow: 'none' },
      busy: { bg: t.statusRed, glow: `0 0 8px ${t.statusRed}99, 0 0 16px ${t.statusRed}4d` },
      away: {
        bg: t.statusYellow,
        glow: `0 0 8px ${t.statusYellow}99, 0 0 16px ${t.statusYellow}4d`,
      },
    };
    return colors[statusType] || colors.offline;
  };

  const getInitials = (name) =>
    name
      ?.split(' ')
      .map((n) => n[0])
      .join('')
      .toUpperCase()
      .slice(0, 2) || '?';

  // Avatar styles for glass theme
  const avatarStyles = isGlass
    ? {
        background: 'linear-gradient(135deg, rgba(168,85,247,0.80), rgba(139,92,246,0.80))',
        border: '2px solid rgba(255,255,255,0.20)',
        boxShadow: isHovered
          ? '0 0 30px rgba(168,85,247,0.50), inset 0 1px 0 rgba(255,255,255,0.20)'
          : '0 4px 20px rgba(168,85,247,0.30)',
      }
    : {
        background: 'linear-gradient(135deg, #8b5cf6, #7c3aed)',
        border: `2px solid ${t.avatarBorder}`,
        boxShadow: isHovered ? t.avatarGlow : 'none',
      };

  return (
    <div
      className={`relative inline-flex ${className}`}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      <div
        className={`${sizes[size]} rounded-full flex items-center justify-center font-semibold transition-all duration-300`}
        style={{ ...avatarStyles, color: '#ffffff' }}
      >
        {getInitials(name)}
      </div>
      {status && (
        <span
          className={`absolute bottom-0 right-0 ${statusSizes[size]} rounded-full transition-all duration-300`}
          style={{
            background: getStatusStyle(status).bg,
            boxShadow: isGlass
              ? getStatusStyle(status).glow
              : `0 0 6px ${getStatusStyle(status).bg}`,
          }}
        />
      )}
    </div>
  );
};

// ========================================
// SKELETON COMPONENT
// ========================================
const Skeleton = ({ variant = 'text', width, height, className = '' }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];

  const variants = {
    text: 'h-4 rounded',
    title: 'h-6 rounded',
    avatar: 'w-12 h-12 rounded-full',
    thumbnail: 'w-full h-32 rounded-xl',
    card: 'w-full h-48 rounded-2xl',
  };

  return (
    <div
      className={`${variants[variant]} ${className} overflow-hidden`}
      style={{
        width,
        height,
        background: `linear-gradient(90deg, ${t.skeletonBg} 25%, ${t.skeletonShine} 50%, ${t.skeletonBg} 75%)`,
        backgroundSize: '200% 100%',
        animation: 'skeleton-loading 1.5s infinite',
      }}
    />
  );
};

// ========================================
// NOTIFICATION COMPONENT - Glass Theme Fixed
// ========================================
const Notification = ({ type = 'info', title, message, onClose }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const [isHovered, setIsHovered] = useState(false);

  const isGlass = theme === 'glass';

  const types = {
    info: {
      icon: Info,
      color: t.statusBlue,
      iconBg: isGlass ? 'rgba(96,165,250,0.15)' : `${t.statusBlue}20`,
      glow: '0 0 20px rgba(96,165,250,0.30)',
    },
    success: {
      icon: CheckCircle,
      color: t.statusGreen,
      iconBg: isGlass ? 'rgba(52,211,153,0.15)' : `${t.statusGreen}20`,
      glow: '0 0 20px rgba(52,211,153,0.30)',
    },
    warning: {
      icon: AlertTriangle,
      color: t.statusYellow,
      iconBg: isGlass ? 'rgba(251,191,36,0.15)' : `${t.statusYellow}20`,
      glow: '0 0 20px rgba(251,191,36,0.30)',
    },
    error: {
      icon: AlertCircle,
      color: t.statusRed,
      iconBg: isGlass ? 'rgba(251,113,133,0.15)' : `${t.statusRed}20`,
      glow: '0 0 20px rgba(251,113,133,0.30)',
    },
  };

  const config = types[type];
  const Icon = config.icon;

  // Glass theme specific styles
  const notificationStyles = isGlass
    ? {
        background: 'rgba(255,255,255,0.08)',
        border: '1px solid rgba(255,255,255,0.15)',
        boxShadow: isHovered
          ? `0 12px 40px rgba(168,85,247,0.30), inset 0 1px 0 rgba(255,255,255,0.15), ${config.glow}`
          : '0 8px 32px rgba(168,85,247,0.20), inset 0 1px 0 rgba(255,255,255,0.10)',
      }
    : {
        background: t.notificationBg,
        border: `1px solid ${t.glassSubtleBorder}`,
        boxShadow: t.notificationGlow,
      };

  return (
    <div
      className="flex items-start gap-4 p-5 rounded-2xl min-w-[320px] max-w-[420px] transition-all duration-300"
      style={{
        ...notificationStyles,
        backdropFilter: 'blur(20px)',
        WebkitBackdropFilter: 'blur(20px)',
        transform: isHovered ? 'translateY(-2px)' : 'translateY(0)',
      }}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      {/* Icon with glow */}
      <div
        className="w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-300"
        style={{
          background: config.iconBg,
          border: isGlass ? `1px solid ${config.color}30` : 'none',
          boxShadow: isHovered && isGlass ? config.glow : 'none',
        }}
      >
        <Icon className="w-5 h-5" style={{ color: config.color }} />
      </div>

      {/* Content */}
      <div className="flex-1 min-w-0">
        <p className="font-semibold text-sm mb-1" style={{ color: t.textPrimary }}>
          {title}
        </p>
        <p className="text-sm leading-relaxed" style={{ color: t.textSecondary }}>
          {message}
        </p>
      </div>

      {/* Close button */}
      <button
        onClick={onClose}
        className="p-1.5 rounded-lg transition-all duration-300 flex-shrink-0"
        style={{ color: t.textMuted, background: 'transparent' }}
        onMouseEnter={(e) => {
          e.currentTarget.style.background = isGlass ? 'rgba(255,255,255,0.10)' : t.listItemHover;
          e.currentTarget.style.color = t.textPrimary;
        }}
        onMouseLeave={(e) => {
          e.currentTarget.style.background = 'transparent';
          e.currentTarget.style.color = t.textMuted;
        }}
      >
        <X className="w-4 h-4" />
      </button>
    </div>
  );
};

// ========================================
// SLIDER COMPONENT
// ========================================
const Slider = ({ value, onChange, min = 0, max = 100, step = 1 }) => {
  const { theme } = useTheme();
  const t = themeStyles[theme];
  const percentage = ((value - min) / (max - min)) * 100;

  return (
    <div className="relative w-full h-6 flex items-center">
      <div className="absolute w-full h-2 rounded-full" style={{ background: t.sliderTrack }} />
      <div
        className="absolute h-2 rounded-full transition-all duration-150"
        style={{
          width: `${percentage}%`,
          background: `linear-gradient(90deg, ${t.sliderFill}, ${t.textAccent})`,
          boxShadow: t.progressGlow,
        }}
      />
      <input
        type="range"
        value={value}
        onChange={(e) => onChange(Number(e.target.value))}
        min={min}
        max={max}
        step={step}
        className="absolute w-full h-6 opacity-0 cursor-pointer"
      />
      <div
        className="absolute w-5 h-5 rounded-full shadow-lg transition-all duration-150 pointer-events-none"
        style={{
          left: `calc(${percentage}% - 10px)`,
          background: t.sliderThumb,
          border: `2px solid ${t.sliderThumbBorder}`,
          boxShadow: t.sliderThumbGlow,
        }}
      />
    </div>
  );
};

// ========================================
// DEMO SHOWCASE COMPONENT
// ========================================
function ComponentShowcase() {
  const { theme, cycleTheme } = useTheme();
  const t = themeStyles[theme];

  const [modalOpen, setModalOpen] = useState(false);
  const [toggle1, setToggle1] = useState(true);
  const [checkbox1, setCheckbox1] = useState(true);
  const [activeTab, setActiveTab] = useState('tab1');
  const [inputValue, setInputValue] = useState('');
  const [sliderValue, setSliderValue] = useState(50);

  const nextTheme = themes[(themes.indexOf(theme) + 1) % themes.length];
  const NextIcon = themeConfig[nextTheme].icon;

  const tabs = [
    { id: 'tab1', label: 'Overview' },
    { id: 'tab2', label: 'Analytics' },
    { id: 'tab3', label: 'Settings' },
  ];
  const dropdownItems = [
    { label: 'Profile', icon: User, onClick: () => {} },
    { label: 'Settings', icon: Settings, onClick: () => {} },
    { divider: true },
    { label: 'Sign out', icon: LogOut, danger: true, onClick: () => {} },
  ];

  return (
    <div className="min-h-screen font-sans">
      <AnimationStyles />

      {/* Background */}
      <div
        className="fixed inset-0 transition-all duration-500"
        style={{ background: `linear-gradient(135deg, ${t.bgFrom}, ${t.bgVia}, ${t.bgTo})` }}
      >
        <div
          className="absolute top-20 -left-20 w-80 h-80 rounded-full blur-3xl animate-orb-float"
          style={{ background: t.orb1 }}
        />
        <div
          className="absolute top-1/3 -right-20 w-96 h-96 rounded-full blur-3xl animate-orb-float"
          style={{ background: t.orb2, animationDelay: '2s' }}
        />
        <div
          className="absolute bottom-20 left-1/4 w-72 h-72 rounded-full blur-3xl animate-orb-float"
          style={{ background: t.orb3, animationDelay: '4s' }}
        />
        {theme === 'glass' && (
          <div
            className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full blur-3xl"
            style={{ background: t.orb5 }}
          />
        )}
      </div>

      {/* Content */}
      <div className="relative z-10 p-4 md:p-8">
        <div className="max-w-5xl mx-auto space-y-6">
          {/* Header */}
          <div className="flex items-center justify-between">
            <div>
              <h1 className="text-2xl md:text-3xl font-bold mb-1" style={{ color: t.textPrimary }}>
                Component Library
              </h1>
              <p className="text-sm" style={{ color: t.textSecondary }}>
                Complete UI kit  {themeConfig[theme].label} theme
              </p>
            </div>
            <Button variant="secondary" icon={NextIcon} onClick={cycleTheme}>
              {themeConfig[nextTheme].label}
            </Button>
          </div>

          {/* Buttons */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Buttons with Glow & Pulse
            </h2>
            <div className="space-y-4">
              <div className="flex flex-wrap gap-3">
                <Button variant="primary" icon={Sparkles}>
                  Primary
                </Button>
                <Button variant="secondary" icon={Settings}>
                  Secondary
                </Button>
                <Button variant="ghost" icon={Eye}>
                  Ghost
                </Button>
                <Button variant="danger" icon={Trash2}>
                  Danger
                </Button>
                <Button variant="success" icon={Check}>
                  Success
                </Button>
              </div>
              <div className="flex flex-wrap gap-3">
                <Button size="sm">Small</Button>
                <Button size="md">Medium</Button>
                <Button size="lg">Large</Button>
                <Button loading>Loading</Button>
                <Button disabled>Disabled</Button>
              </div>
            </div>
          </GlassCard>

          {/* Inputs & Forms */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Inputs & Forms
            </h2>
            <div className="grid md:grid-cols-2 gap-6">
              <Input
                label="Email"
                placeholder="Enter your email"
                icon={Mail}
                value={inputValue}
                onChange={(e) => setInputValue(e.target.value)}
              />
              <Input
                label="Password"
                type="password"
                placeholder="Enter password"
                icon={Lock}
                iconPosition="right"
              />
              <Input
                label="With Error"
                placeholder="Invalid input"
                error="This field is required"
              />
              <Input label="With Success" placeholder="Valid input" success="Looks good!" />
              <div>
                <label
                  className="text-sm font-medium mb-2 block"
                  style={{ color: t.textSecondary }}
                >
                  Slider: {sliderValue}
                </label>
                <Slider value={sliderValue} onChange={setSliderValue} />
              </div>
            </div>
          </GlassCard>

          {/* Toggles & Selection */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Toggles & Selection
            </h2>
            <div className="grid md:grid-cols-2 gap-6">
              <div className="space-y-4">
                <h3 className="text-sm font-medium" style={{ color: t.textSecondary }}>
                  Toggles with Glow
                </h3>
                <div className="flex items-center gap-3">
                  <Toggle checked={toggle1} onChange={setToggle1} size="sm" />
                  <span className="text-sm" style={{ color: t.textSecondary }}>
                    Small
                  </span>
                </div>
                <div className="flex items-center gap-3">
                  <Toggle checked={!toggle1} onChange={() => setToggle1(!toggle1)} size="md" />
                  <span className="text-sm" style={{ color: t.textSecondary }}>
                    Medium
                  </span>
                </div>
                <div className="flex items-center gap-3">
                  <Toggle checked={true} onChange={() => {}} size="lg" />
                  <span className="text-sm" style={{ color: t.textSecondary }}>
                    Large
                  </span>
                </div>
              </div>
              <div className="space-y-4">
                <h3 className="text-sm font-medium" style={{ color: t.textSecondary }}>
                  Checkboxes
                </h3>
                <Checkbox checked={checkbox1} onChange={setCheckbox1} label="Accept terms" />
                <Checkbox
                  checked={!checkbox1}
                  onChange={() => setCheckbox1(!checkbox1)}
                  label="Subscribe to newsletter"
                />
              </div>
            </div>
          </GlassCard>

          {/* Tabs & Navigation */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Tabs & Navigation
            </h2>
            <div className="space-y-4">
              <Tabs tabs={tabs} activeTab={activeTab} onChange={setActiveTab} />
              <div className="flex items-center gap-4">
                <Dropdown
                  trigger={
                    <Button variant="secondary" icon={ChevronDown} iconPosition="right">
                      Dropdown
                    </Button>
                  }
                  items={dropdownItems}
                />
                <Button variant="ghost" onClick={() => setModalOpen(true)}>
                  Open Modal
                </Button>
              </div>
            </div>
          </GlassCard>

          {/* Badges & Status */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Badges & Status
            </h2>
            <div className="flex flex-wrap gap-3 mb-6">
              <Badge>Default</Badge>
              <Badge variant="success">Success</Badge>
              <Badge variant="warning">Warning</Badge>
              <Badge variant="danger">Danger</Badge>
              <Badge variant="info">Info</Badge>
              <Badge variant="violet">Violet</Badge>
              <Badge variant="success" dot>
                With Dot
              </Badge>
            </div>
            <div className="flex items-center gap-6">
              <Tooltip content="This is a tooltip" position="top">
                <Button variant="ghost" size="sm">
                  Hover (top)
                </Button>
              </Tooltip>
              <Tooltip content="Bottom tooltip" position="bottom">
                <Button variant="ghost" size="sm">
                  Hover (bottom)
                </Button>
              </Tooltip>
            </div>
          </GlassCard>

          {/* Alerts */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Alerts
            </h2>
            <div className="space-y-3">
              <Alert type="info" title="Information">
                This is an informational message.
              </Alert>
              <Alert type="success" title="Success!" dismissible>
                Your changes have been saved.
              </Alert>
              <Alert type="warning" title="Warning">
                Please review your settings.
              </Alert>
              <Alert type="error" title="Error" dismissible>
                Something went wrong.
              </Alert>
            </div>
          </GlassCard>

          {/* Progress & Loading */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Progress & Loading
            </h2>
            <div className="space-y-4 mb-6">
              <Progress value={25} size="sm" gradient="from-blue-400 to-cyan-400" />
              <Progress value={50} size="md" gradient="from-violet-500 to-purple-500" />
              <Progress value={75} size="lg" gradient="from-amber-400 to-orange-500" showLabel />
            </div>
            <h3 className="text-sm font-medium mb-3" style={{ color: t.textSecondary }}>
              Skeleton Loading
            </h3>
            <div className="flex items-start gap-4">
              <Skeleton variant="avatar" />
              <div className="flex-1 space-y-2">
                <Skeleton variant="title" width="60%" />
                <Skeleton variant="text" />
                <Skeleton variant="text" width="80%" />
              </div>
            </div>
          </GlassCard>

          {/* Avatars */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Avatars with Glow
            </h2>
            <div className="flex items-center gap-4">
              <Avatar name="John Doe" size="sm" />
              <Avatar name="Jane Smith" size="md" status="online" />
              <Avatar name="Bob Johnson" size="lg" status="busy" />
              <Avatar name="Alice Brown" size="xl" status="away" />
            </div>
          </GlassCard>

          {/* Notifications */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Notifications
            </h2>
            <div className="space-y-3">
              <Notification
                type="info"
                title="New update available"
                message="Version 2.0 is ready"
                onClose={() => {}}
              />
              <Notification
                type="success"
                title="Payment successful"
                message="Your payment has been processed"
                onClose={() => {}}
              />
            </div>
          </GlassCard>

          {/* Cards Showcase */}
          <GlassCard className="p-6" intensity="strong" hover={false}>
            <h2 className="text-lg font-semibold mb-4" style={{ color: t.textPrimary }}>
              Card Variants with Glow
            </h2>
            <div className="grid md:grid-cols-3 gap-4">
              <GlassCard className="p-4" intensity="subtle" glow="blue">
                <h3 className="font-medium mb-2" style={{ color: t.textPrimary }}>
                  Blue Glow
                </h3>
                <p className="text-sm" style={{ color: t.textSecondary }}>
                  Hover to see effect
                </p>
              </GlassCard>
              <GlassCard className="p-4" intensity="medium" glow="violet">
                <h3 className="font-medium mb-2" style={{ color: t.textPrimary }}>
                  Violet Glow
                </h3>
                <p className="text-sm" style={{ color: t.textSecondary }}>
                  Hover to see effect
                </p>
              </GlassCard>
              <GlassCard className="p-4" intensity="strong" glow="cyan">
                <h3 className="font-medium mb-2" style={{ color: t.textPrimary }}>
                  Cyan Glow
                </h3>
                <p className="text-sm" style={{ color: t.textSecondary }}>
                  Hover to see effect
                </p>
              </GlassCard>
            </div>
          </GlassCard>

          {/* Footer */}
          <footer className="text-center py-6 text-xs" style={{ color: t.footerText }}>
            Component Library  {themeConfig[theme].label} Theme  Glow & Pulse Animations
          </footer>
        </div>
      </div>

      <Modal isOpen={modalOpen} onClose={() => setModalOpen(false)} title="Modal Title" size="md">
        <p className="mb-4">This is a modal with glassmorphism styling across all three themes.</p>
        <div className="flex gap-2 justify-end">
          <Button variant="ghost" onClick={() => setModalOpen(false)}>
            Cancel
          </Button>
          <Button variant="primary" onClick={() => setModalOpen(false)}>
            Confirm
          </Button>
        </div>
      </Modal>
    </div>
  );
}

// ========================================
// WRAPPER WITH THEME PROVIDER
// ========================================
export default function ComponentLibrary() {
  const [theme, setTheme] = useState('glass');

  const cycleTheme = () => {
    const currentIndex = themes.indexOf(theme);
    const nextIndex = (currentIndex + 1) % themes.length;
    setTheme(themes[nextIndex]);
  };

  return (
    <ThemeContext.Provider value={{ theme, setTheme, cycleTheme }}>
      <ComponentShowcase />
    </ThemeContext.Provider>
  );
}
